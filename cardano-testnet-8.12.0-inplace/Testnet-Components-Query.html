<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Testnet.Components.Query</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-testnet-8.12.0: The cardano full node</span><ul class="links" id="page-menu"><li><a href="src/Testnet.Components.Query.html">Source</a></li><li><a href="../index.html">Contents</a></li><li><a href="../doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Testnet.Components.Query</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:EpochStateView">EpochStateView</a></li><li class="src short"><a href="#v:getEpochStateView">getEpochStateView</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../resourcet/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../exceptions/Control-Monad-Catch.html#t:MonadCatch" title="Control.Monad.Catch">MonadCatch</a> m =&gt; <a href="../cardano-api/Cardano-Api.html#t:NodeConfigFile" title="Cardano.Api">NodeConfigFile</a> <a href="../cardano-api/Cardano-Api.html#v:In" title="Cardano.Api">In</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:SocketPath" title="Cardano.Api">SocketPath</a> -&gt; m <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></li><li class="src short"><a href="#v:getEpochState">getEpochState</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:AnyNewEpochState" title="Cardano.Api">AnyNewEpochState</a></li><li class="src short"><a href="#v:getSlotNumber">getSlotNumber</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:SlotNo" title="Cardano.Api">SlotNo</a></li><li class="src short"><a href="#v:getBlockNumber">getBlockNumber</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:BlockNo" title="Cardano.Api">BlockNo</a></li><li class="src short"><a href="#v:watchEpochStateUpdate">watchEpochStateUpdate</a> :: <span class="keyword">forall</span> m a. (<a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m, <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m) =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:EpochInterval" title="Cardano.Api.ReexposeLedger">EpochInterval</a> -&gt; ((<a href="../cardano-api/Cardano-Api.html#t:AnyNewEpochState" title="Cardano.Api">AnyNewEpochState</a>, <a href="../cardano-api/Cardano-Api.html#t:SlotNo" title="Cardano.Api">SlotNo</a>, <a href="../cardano-api/Cardano-Api.html#t:BlockNo" title="Cardano.Api">BlockNo</a>) -&gt; m (<a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)) -&gt; m (<a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:getMinDRepDeposit">getMinDRepDeposit</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ConwayEraOnwards" title="Cardano.Api">ConwayEraOnwards</a> era -&gt; m <a href="../base/Prelude.html#t:Integer" title="Prelude">Integer</a></li><li class="src short"><a href="#v:getMinGovActionDeposit">getMinGovActionDeposit</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ConwayEraOnwards" title="Cardano.Api">ConwayEraOnwards</a> era -&gt; m <a href="../base/Prelude.html#t:Integer" title="Prelude">Integer</a></li><li class="src short"><a href="#v:getGovState">getGovState</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ConwayEraOnwards" title="Cardano.Api">ConwayEraOnwards</a> era -&gt; m (<a href="../cardano-ledger-api/Cardano-Ledger-Api-Governance.html#t:ConwayGovState" title="Cardano.Ledger.Api.Governance">ConwayGovState</a> (<a href="../cardano-api/Cardano-Api-Shelley.html#t:ShelleyLedgerEra" title="Cardano.Api.Shelley">ShelleyLedgerEra</a> era))</li><li class="src short"><a href="#v:getCurrentEpochNo">getCurrentEpochNo</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:EpochNo" title="Cardano.Api">EpochNo</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TestnetWaitPeriod">TestnetWaitPeriod</a><ul class="subs"><li>= <a href="#v:WaitForEpochs">WaitForEpochs</a> <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:EpochInterval" title="Cardano.Api.ReexposeLedger">EpochInterval</a></li><li>| <a href="#v:WaitForBlocks">WaitForBlocks</a> <a href="../base/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li>| <a href="#v:WaitForSlots">WaitForSlots</a> <a href="../base/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li></ul></li><li class="src short"><a href="#v:waitForEpochs">waitForEpochs</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:EpochInterval" title="Cardano.Api.ReexposeLedger">EpochInterval</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:EpochNo" title="Cardano.Api">EpochNo</a></li><li class="src short"><a href="#v:waitUntilEpoch">waitUntilEpoch</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../cardano-api/Cardano-Api.html#t:NodeConfigFile" title="Cardano.Api">NodeConfigFile</a> <a href="../cardano-api/Cardano-Api.html#v:In" title="Cardano.Api">In</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:SocketPath" title="Cardano.Api">SocketPath</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:EpochNo" title="Cardano.Api">EpochNo</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:EpochNo" title="Cardano.Api">EpochNo</a></li><li class="src short"><a href="#v:waitForBlocks">waitForBlocks</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../exceptions/Control-Monad-Catch.html#t:MonadCatch" title="Control.Monad.Catch">MonadCatch</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../base/Data-Word.html#t:Word64" title="Data.Word">Word64</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:BlockNo" title="Cardano.Api">BlockNo</a></li><li class="src short"><a href="#v:retryUntilJustM">retryUntilJustM</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a> -&gt; m (<a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; m a</li><li class="src short"><a href="#v:findAllUtxos">findAllUtxos</a> :: <span class="keyword">forall</span> era m. <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> era -&gt; m (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="../cardano-api/Cardano-Api.html#t:TxIn" title="Cardano.Api">TxIn</a> (<a href="../cardano-api/Cardano-Api.html#t:TxOut" title="Cardano.Api">TxOut</a> <a href="../cardano-api/Cardano-Api.html#t:CtxUTxO" title="Cardano.Api">CtxUTxO</a> era))</li><li class="src short"><a href="#v:findUtxosWithAddress">findUtxosWithAddress</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> era -&gt; <a href="../cardano-prelude/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a> -&gt; m (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="../cardano-api/Cardano-Api.html#t:TxIn" title="Cardano.Api">TxIn</a> (<a href="../cardano-api/Cardano-Api.html#t:TxOut" title="Cardano.Api">TxOut</a> <a href="../cardano-api/Cardano-Api.html#t:CtxUTxO" title="Cardano.Api">CtxUTxO</a> era))</li><li class="src short"><a href="#v:findLargestUtxoWithAddress">findLargestUtxoWithAddress</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> era -&gt; <a href="../cardano-prelude/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a> -&gt; m (<a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../cardano-api/Cardano-Api.html#t:TxIn" title="Cardano.Api">TxIn</a>, <a href="../cardano-api/Cardano-Api.html#t:TxOut" title="Cardano.Api">TxOut</a> <a href="../cardano-api/Cardano-Api.html#t:CtxUTxO" title="Cardano.Api">CtxUTxO</a> era))</li><li class="src short"><a href="#v:findLargestUtxoForPaymentKey">findLargestUtxoForPaymentKey</a> :: <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> era -&gt; <a href="Testnet-Types.html#t:PaymentKeyInfo" title="Testnet.Types">PaymentKeyInfo</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:TxIn" title="Cardano.Api">TxIn</a></li><li class="src short"><a href="#v:checkDRepsNumber">checkDRepsNumber</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> <a href="../cardano-api/Cardano-Api.html#t:ConwayEra" title="Cardano.Api">ConwayEra</a> -&gt; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m ()</li><li class="src short"><a href="#v:checkDRepState">checkDRepState</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> <a href="../cardano-api/Cardano-Api.html#t:ConwayEra" title="Cardano.Api">ConwayEra</a> -&gt; (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> (<a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:Credential" title="Cardano.Api.ReexposeLedger">Credential</a> '<a href="../cardano-api/Cardano-Api-ReexposeLedger.html#v:DRepRole" title="Cardano.Api.ReexposeLedger">DRepRole</a> <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>) (<a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:DRepState" title="Cardano.Api.ReexposeLedger">DRepState</a> <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>) -&gt; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) -&gt; m a</li><li class="src short"><a href="#v:assertNewEpochState">assertNewEpochState</a> :: <span class="keyword">forall</span> m era value. <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> value =&gt; <a href="../base/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> value =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> era -&gt; <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:EpochInterval" title="Cardano.Api.ReexposeLedger">EpochInterval</a> -&gt; <a href="../microlens/Lens-Micro-Type.html#t:Lens-39-" title="Lens.Micro.Type">Lens'</a> (<a href="../cardano-ledger-shelley/Cardano-Ledger-Shelley-LedgerState-Types.html#t:NewEpochState" title="Cardano.Ledger.Shelley.LedgerState.Types">NewEpochState</a> (<a href="../cardano-api/Cardano-Api-Shelley.html#t:ShelleyLedgerEra" title="Cardano.Api.Shelley">ShelleyLedgerEra</a> era)) value -&gt; value -&gt; m ()</li><li class="src short"><a href="#v:getGovActionLifetime">getGovActionLifetime</a> :: (<a href="../cardano-ledger-conway/Cardano-Ledger-Conway-PParams.html#t:ConwayEraPParams" title="Cardano.Ledger.Conway.PParams">ConwayEraPParams</a> (<a href="../cardano-api/Cardano-Api-Shelley.html#t:ShelleyLedgerEra" title="Cardano.Api.Shelley">ShelleyLedgerEra</a> era), <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m, <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m, <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ConwayEraOnwards" title="Cardano.Api">ConwayEraOnwards</a> era -&gt; m <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:EpochInterval" title="Cardano.Api.ReexposeLedger">EpochInterval</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EpochStateView" class="def">EpochStateView</a> <a href="src/Testnet.Components.Query.html#EpochStateView" class="link">Source</a> <a href="#t:EpochStateView" class="selflink">#</a></p><div class="doc"><p>A read-only mutable pointer to an epoch state, updated automatically</p></div></div><div class="top"><p class="src"><a id="v:getEpochStateView" class="def">getEpochStateView</a> <a href="src/Testnet.Components.Query.html#getEpochStateView" class="link">Source</a> <a href="#v:getEpochStateView" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../resourcet/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../exceptions/Control-Monad-Catch.html#t:MonadCatch" title="Control.Monad.Catch">MonadCatch</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../cardano-api/Cardano-Api.html#t:NodeConfigFile" title="Cardano.Api">NodeConfigFile</a> <a href="../cardano-api/Cardano-Api.html#v:In" title="Cardano.Api">In</a></td><td class="doc"><p>node Yaml configuration file path</p></td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:SocketPath" title="Cardano.Api">SocketPath</a></td><td class="doc"><p>node socket path</p></td></tr><tr><td class="src">-&gt; m <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create a background thread listening for new epoch states. New epoch states are available to access
 through <code><a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></code>, using query functions.</p></div></div><div class="top"><p class="src"><a id="v:getEpochState" class="def">getEpochState</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:AnyNewEpochState" title="Cardano.Api">AnyNewEpochState</a> <a href="src/Testnet.Components.Query.html#getEpochState" class="link">Source</a> <a href="#v:getEpochState" class="selflink">#</a></p><div class="doc"><p>Get epoch state from the view. If the state isn't available, retry waiting up to 15 seconds. Fails when
 the state is not available after 15 seconds.</p></div></div><div class="top"><p class="src"><a id="v:getSlotNumber" class="def">getSlotNumber</a> <a href="src/Testnet.Components.Query.html#getSlotNumber" class="link">Source</a> <a href="#v:getSlotNumber" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m <a href="../cardano-api/Cardano-Api.html#t:SlotNo" title="Cardano.Api">SlotNo</a></td><td class="doc"><p>The current slot number</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:getBlockNumber" class="def">getBlockNumber</a> <a href="src/Testnet.Components.Query.html#getBlockNumber" class="link">Source</a> <a href="#v:getBlockNumber" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m <a href="../cardano-api/Cardano-Api.html#t:BlockNo" title="Cardano.Api">BlockNo</a></td><td class="doc"><p>The number of last produced block</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:watchEpochStateUpdate" class="def">watchEpochStateUpdate</a> <a href="src/Testnet.Components.Query.html#watchEpochStateUpdate" class="link">Source</a> <a href="#v:watchEpochStateUpdate" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m a. (<a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>, <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m, <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc"><p>The info to access the epoch state</p></td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:EpochInterval" title="Cardano.Api.ReexposeLedger">EpochInterval</a></td><td class="doc"><p>The maximum number of epochs to wait</p></td></tr><tr><td class="src">-&gt; ((<a href="../cardano-api/Cardano-Api.html#t:AnyNewEpochState" title="Cardano.Api">AnyNewEpochState</a>, <a href="../cardano-api/Cardano-Api.html#t:SlotNo" title="Cardano.Api">SlotNo</a>, <a href="../cardano-api/Cardano-Api.html#t:BlockNo" title="Cardano.Api">BlockNo</a>) -&gt; m (<a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a))</td><td class="doc"><p>The guard function (<code>Just</code> if the condition is met, <code>Nothing</code> otherwise)</p></td></tr><tr><td class="src">-&gt; m (<a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Watch the epoch state view until the guard function returns <code><a href="../base/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> or the timeout epoch is reached.
 Executes the guard function every 300ms. Waits for at most <code>maxWait</code> epochs.
 The function will return the result of the guard function if it is met within the number of epochs,
 otherwise it will return <code>Nothing</code>.</p></div></div><div class="top"><p class="src"><a id="v:getMinDRepDeposit" class="def">getMinDRepDeposit</a> <a href="src/Testnet.Components.Query.html#getMinDRepDeposit" class="link">Source</a> <a href="#v:getMinDRepDeposit" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:ConwayEraOnwards" title="Cardano.Api">ConwayEraOnwards</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m <a href="../base/Prelude.html#t:Integer" title="Prelude">Integer</a></td><td class="doc"><p>The minimum deposit</p></td></tr></table></div><div class="doc"><p>Obtain minimum deposit amount for DRep registration from node</p></div></div><div class="top"><p class="src"><a id="v:getMinGovActionDeposit" class="def">getMinGovActionDeposit</a> <a href="src/Testnet.Components.Query.html#getMinGovActionDeposit" class="link">Source</a> <a href="#v:getMinGovActionDeposit" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:ConwayEraOnwards" title="Cardano.Api">ConwayEraOnwards</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m <a href="../base/Prelude.html#t:Integer" title="Prelude">Integer</a></td><td class="doc"><p>The minimum deposit</p></td></tr></table></div><div class="doc"><p>Obtain minimum deposit amount for governance action from node</p></div></div><div class="top"><p class="src"><a id="v:getGovState" class="def">getGovState</a> <a href="src/Testnet.Components.Query.html#getGovState" class="link">Source</a> <a href="#v:getGovState" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:ConwayEraOnwards" title="Cardano.Api">ConwayEraOnwards</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m (<a href="../cardano-ledger-api/Cardano-Ledger-Api-Governance.html#t:ConwayGovState" title="Cardano.Ledger.Api.Governance">ConwayGovState</a> (<a href="../cardano-api/Cardano-Api-Shelley.html#t:ShelleyLedgerEra" title="Cardano.Api.Shelley">ShelleyLedgerEra</a> era))</td><td class="doc"><p>The governance state</p></td></tr></table></div><div class="doc"><p>Obtain governance state from node (CLI query)</p></div></div><div class="top"><p class="src"><a id="v:getCurrentEpochNo" class="def">getCurrentEpochNo</a> :: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:EpochNo" title="Cardano.Api">EpochNo</a> <a href="src/Testnet.Components.Query.html#getCurrentEpochNo" class="link">Source</a> <a href="#v:getCurrentEpochNo" class="selflink">#</a></p><div class="doc"><p>Return current-ish epoch number.
 Because we're using Ledger's <code>NewEpochState</code>, the returned epoch number won't be reflecting the current
 epoch number during the transiontion between the epochs. In other cases it will be the true number of the
 current epoch.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TestnetWaitPeriod" class="def">TestnetWaitPeriod</a> <a href="src/Testnet.Components.Query.html#TestnetWaitPeriod" class="link">Source</a> <a href="#t:TestnetWaitPeriod" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WaitForEpochs" class="def">WaitForEpochs</a> <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:EpochInterval" title="Cardano.Api.ReexposeLedger">EpochInterval</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:WaitForBlocks" class="def">WaitForBlocks</a> <a href="../base/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:WaitForSlots" class="def">WaitForSlots</a> <a href="../base/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TestnetWaitPeriod">Instances</h4><details id="i:TestnetWaitPeriod" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TestnetWaitPeriod:Show:1"></span> <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a></span> <a href="src/Testnet.Components.Query.html#line-147" class="link">Source</a> <a href="#t:TestnetWaitPeriod" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TestnetWaitPeriod:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Testnet-Components-Query.html">Testnet.Components.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a> -&gt; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a> -&gt; <a href="../base/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a>] -&gt; <a href="../base/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TestnetWaitPeriod:Eq:2"></span> <a href="../base/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a></span> <a href="src/Testnet.Components.Query.html#line-145" class="link">Source</a> <a href="#t:TestnetWaitPeriod" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TestnetWaitPeriod:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Testnet-Components-Query.html">Testnet.Components.Query</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a> -&gt; <a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a> -&gt; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a> -&gt; <a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a> -&gt; <a href="../base/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:waitForEpochs" class="def">waitForEpochs</a> <a href="src/Testnet.Components.Query.html#waitForEpochs" class="link">Source</a> <a href="#v:waitForEpochs" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:EpochInterval" title="Cardano.Api.ReexposeLedger">EpochInterval</a></td><td class="doc"><p>Number of epochs to wait</p></td></tr><tr><td class="src">-&gt; m <a href="../cardano-api/Cardano-Api.html#t:EpochNo" title="Cardano.Api">EpochNo</a></td><td class="doc"><p>The epoch number reached</p></td></tr></table></div><div class="doc"><p>Wait for the number of epochs</p></div></div><div class="top"><p class="src"><a id="v:waitUntilEpoch" class="def">waitUntilEpoch</a> <a href="src/Testnet.Components.Query.html#waitUntilEpoch" class="link">Source</a> <a href="#v:waitUntilEpoch" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../cardano-api/Cardano-Api.html#t:NodeConfigFile" title="Cardano.Api">NodeConfigFile</a> <a href="../cardano-api/Cardano-Api.html#v:In" title="Cardano.Api">In</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:SocketPath" title="Cardano.Api">SocketPath</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:EpochNo" title="Cardano.Api">EpochNo</a></td><td class="doc"><p>Desired epoch</p></td></tr><tr><td class="src">-&gt; m <a href="../cardano-api/Cardano-Api.html#t:EpochNo" title="Cardano.Api">EpochNo</a></td><td class="doc"><p>The epoch number reached</p></td></tr></table></div><div class="doc"><p>Block and wait for the desired epoch.</p></div></div><div class="top"><p class="src"><a id="v:waitForBlocks" class="def">waitForBlocks</a> <a href="src/Testnet.Components.Query.html#waitForBlocks" class="link">Source</a> <a href="#v:waitForBlocks" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../exceptions/Control-Monad-Catch.html#t:MonadCatch" title="Control.Monad.Catch">MonadCatch</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc"><p>Number of blocks to wait</p></td></tr><tr><td class="src">-&gt; m <a href="../cardano-api/Cardano-Api.html#t:BlockNo" title="Cardano.Api">BlockNo</a></td><td class="doc"><p>The block number reached</p></td></tr></table></div><div class="doc"><p>Wait for the requested number of blocks</p></div></div><div class="top"><p class="src"><a id="v:retryUntilJustM" class="def">retryUntilJustM</a> <a href="src/Testnet.Components.Query.html#retryUntilJustM" class="link">Source</a> <a href="#v:retryUntilJustM" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Testnet-Components-Query.html#t:TestnetWaitPeriod" title="Testnet.Components.Query">TestnetWaitPeriod</a></td><td class="doc"><p>timeout for an operation</p></td></tr><tr><td class="src">-&gt; m (<a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Retries the action until it returns <code><a href="../base/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> or the timeout is reached</p></div></div><div class="top"><p class="src"><a id="v:findAllUtxos" class="def">findAllUtxos</a> :: <span class="keyword">forall</span> era m. <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> era -&gt; m (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="../cardano-api/Cardano-Api.html#t:TxIn" title="Cardano.Api">TxIn</a> (<a href="../cardano-api/Cardano-Api.html#t:TxOut" title="Cardano.Api">TxOut</a> <a href="../cardano-api/Cardano-Api.html#t:CtxUTxO" title="Cardano.Api">CtxUTxO</a> era)) <a href="src/Testnet.Components.Query.html#findAllUtxos" class="link">Source</a> <a href="#v:findAllUtxos" class="selflink">#</a></p><div class="doc"><p>Retrieve all UTxOs map from the epoch state view.</p></div></div><div class="top"><p class="src"><a id="v:findUtxosWithAddress" class="def">findUtxosWithAddress</a> <a href="src/Testnet.Components.Query.html#findUtxosWithAddress" class="link">Source</a> <a href="#v:findUtxosWithAddress" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-prelude/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a></td><td class="doc"><p>Address</p></td></tr><tr><td class="src">-&gt; m (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> <a href="../cardano-api/Cardano-Api.html#t:TxIn" title="Cardano.Api">TxIn</a> (<a href="../cardano-api/Cardano-Api.html#t:TxOut" title="Cardano.Api">TxOut</a> <a href="../cardano-api/Cardano-Api.html#t:CtxUTxO" title="Cardano.Api">CtxUTxO</a> era))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Retrieve utxos from the epoch state view for an address.</p></div></div><div class="top"><p class="src"><a id="v:findLargestUtxoWithAddress" class="def">findLargestUtxoWithAddress</a> <a href="src/Testnet.Components.Query.html#findLargestUtxoWithAddress" class="link">Source</a> <a href="#v:findLargestUtxoWithAddress" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> era</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-prelude/Cardano-Prelude.html#t:Text" title="Cardano.Prelude">Text</a></td><td class="doc"><p>Address</p></td></tr><tr><td class="src">-&gt; m (<a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../cardano-api/Cardano-Api.html#t:TxIn" title="Cardano.Api">TxIn</a>, <a href="../cardano-api/Cardano-Api.html#t:TxOut" title="Cardano.Api">TxOut</a> <a href="../cardano-api/Cardano-Api.html#t:CtxUTxO" title="Cardano.Api">CtxUTxO</a> era))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Retrieve a one largest utxo</p></div></div><div class="top"><p class="src"><a id="v:findLargestUtxoForPaymentKey" class="def">findLargestUtxoForPaymentKey</a> :: <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m =&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m =&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a> =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> era -&gt; <a href="Testnet-Types.html#t:PaymentKeyInfo" title="Testnet.Types">PaymentKeyInfo</a> -&gt; m <a href="../cardano-api/Cardano-Api.html#t:TxIn" title="Cardano.Api">TxIn</a> <a href="src/Testnet.Components.Query.html#findLargestUtxoForPaymentKey" class="link">Source</a> <a href="#v:findLargestUtxoForPaymentKey" class="selflink">#</a></p><div class="doc"><p>Retrieve a largest UTxO for a payment key info - a convenience wrapper for
 <code><a href="Testnet-Components-Query.html#v:findLargestUtxoWithAddress" title="Testnet.Components.Query">findLargestUtxoWithAddress</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:checkDRepsNumber" class="def">checkDRepsNumber</a> <a href="src/Testnet.Components.Query.html#checkDRepsNumber" class="link">Source</a> <a href="#v:checkDRepsNumber" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> <a href="../cardano-api/Cardano-Api.html#t:ConwayEra" title="Cardano.Api">ConwayEra</a></td><td class="doc"><p>The era in which the test runs</p></td></tr><tr><td class="src">-&gt; <a href="../base/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code>checkDRepsNumber config socket execConfig n</code>
 wait for the number of DReps being <code>n</code> for two epochs. If
 this number is not attained before two epochs, the test is failed.</p></div></div><div class="top"><p class="src"><a id="v:checkDRepState" class="def">checkDRepState</a> <a href="src/Testnet.Components.Query.html#checkDRepState" class="link">Source</a> <a href="#v:checkDRepState" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> <a href="../cardano-api/Cardano-Api.html#t:ConwayEra" title="Cardano.Api">ConwayEra</a></td><td class="doc"><p>The era in which the test runs</p></td></tr><tr><td class="src">-&gt; (<a href="../cardano-data/Data-CanonicalMaps.html#t:Map" title="Data.CanonicalMaps">Map</a> (<a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:Credential" title="Cardano.Api.ReexposeLedger">Credential</a> '<a href="../cardano-api/Cardano-Api-ReexposeLedger.html#v:DRepRole" title="Cardano.Api.ReexposeLedger">DRepRole</a> <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>) (<a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:DRepState" title="Cardano.Api.ReexposeLedger">DRepState</a> <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:StandardCrypto" title="Cardano.Api.ReexposeLedger">StandardCrypto</a>) -&gt; <a href="../base/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</td><td class="doc"><p>A function that checks whether the DRep state is correct or up to date
 and potentially inspects it.</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code>checkDRepState sbe configurationFile socketPath execConfig f</code>
 This functions helps check properties about the DRep state.
 It waits up to two epochs for the result of applying <code>f</code> to the DRepState
 to become <code><a href="../base/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code>. If <code>f</code> keeps returning <code><a href="../base/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> the test fails.
 If <code>f</code> returns <code><a href="../base/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code>, the contents of the <code><a href="../base/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> are returned.</p></div></div><div class="top"><p class="src"><a id="v:assertNewEpochState" class="def">assertNewEpochState</a> <a href="src/Testnet.Components.Query.html#assertNewEpochState" class="link">Source</a> <a href="#v:assertNewEpochState" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m era value. <a href="../base/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Text-Show.html#t:Show" title="Text.Show">Show</a> value</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> value</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a></td><td class="doc"><p>Current epoch state view. It can be obtained using the <code><a href="Testnet-Components-Query.html#v:getEpochStateView" title="Testnet.Components.Query">getEpochStateView</a></code> function.</p></td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api.html#t:ShelleyBasedEra" title="Cardano.Api">ShelleyBasedEra</a> era</td><td class="doc"><p>The ShelleyBasedEra witness for current era.</p></td></tr><tr><td class="src">-&gt; <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:EpochInterval" title="Cardano.Api.ReexposeLedger">EpochInterval</a></td><td class="doc"><p>The maximum wait time in epochs.</p></td></tr><tr><td class="src">-&gt; <a href="../microlens/Lens-Micro-Type.html#t:Lens-39-" title="Lens.Micro.Type">Lens'</a> (<a href="../cardano-ledger-shelley/Cardano-Ledger-Shelley-LedgerState-Types.html#t:NewEpochState" title="Cardano.Ledger.Shelley.LedgerState.Types">NewEpochState</a> (<a href="../cardano-api/Cardano-Api-Shelley.html#t:ShelleyLedgerEra" title="Cardano.Api.Shelley">ShelleyLedgerEra</a> era)) value</td><td class="doc"><p>The lens to access the specific value in the epoch state.</p></td></tr><tr><td class="src">-&gt; value</td><td class="doc"><p>The expected value to check in the epoch state.</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Assert that the value pointed by the <code>lens</code> in the epoch state is the same as the <code>expected</code> value
 or it becomes the same within the <code>maxWait</code> epochs. If the value is not reached within the time frame,
 the test fails.</p></div></div><div class="top"><p class="src"><a id="v:getGovActionLifetime" class="def">getGovActionLifetime</a> :: (<a href="../cardano-ledger-conway/Cardano-Ledger-Conway-PParams.html#t:ConwayEraPParams" title="Cardano.Ledger.Conway.PParams">ConwayEraPParams</a> (<a href="../cardano-api/Cardano-Api-Shelley.html#t:ShelleyLedgerEra" title="Cardano.Api.Shelley">ShelleyLedgerEra</a> era), <a href="../hedgehog-extras/Hedgehog-Extras-Test-MonadAssertion.html#t:MonadAssertion" title="Hedgehog.Extras.Test.MonadAssertion">MonadAssertion</a> m, <a href="../hedgehog/Hedgehog.html#t:MonadTest" title="Hedgehog">MonadTest</a> m, <a href="../base/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Testnet-Components-Query.html#t:EpochStateView" title="Testnet.Components.Query">EpochStateView</a> -&gt; <a href="../cardano-api/Cardano-Api.html#t:ConwayEraOnwards" title="Cardano.Api">ConwayEraOnwards</a> era -&gt; m <a href="../cardano-api/Cardano-Api-ReexposeLedger.html#t:EpochInterval" title="Cardano.Api.ReexposeLedger">EpochInterval</a> <a href="src/Testnet.Components.Query.html#getGovActionLifetime" class="link">Source</a> <a href="#v:getGovActionLifetime" class="selflink">#</a></p><div class="doc"><p>Obtains the <code>govActionLifetime</code> from the protocol parameters.
 The <code>govActionLifetime</code> or governance action maximum lifetime in epochs is
 the number of epochs such that a governance action submitted during an epoch <code>e</code>
 expires if it is still not ratified as of the end of epoch: <code>e + govActionLifetime + 1</code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>