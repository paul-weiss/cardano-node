<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ExistentialQuantification #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Testnet.Process.Cli.DRep</span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#generateDRepKeyPair"><span class="hs-identifier">generateDRepKeyPair</span></a></span><span>
</span><span id="line-9"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#generateRegistrationCertificate"><span class="hs-identifier">generateRegistrationCertificate</span></a></span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#createCertificatePublicationTxBody"><span class="hs-identifier">createCertificatePublicationTxBody</span></a></span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#generateVoteFiles"><span class="hs-identifier">generateVoteFiles</span></a></span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#createVotingTxBody"><span class="hs-identifier">createVotingTxBody</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#registerDRep"><span class="hs-identifier">registerDRep</span></a></span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#delegateToDRep"><span class="hs-identifier">delegateToDRep</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#getLastPParamUpdateActionId"><span class="hs-identifier">getLastPParamUpdateActionId</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#makeActivityChangeProposal"><span class="hs-identifier">makeActivityChangeProposal</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-e05d008dc5f84e61f6938f3fb34d75378a560945725895349343e6a91050827f/share/doc/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Certificate.html#Certificate"><span class="hs-identifier">Certificate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Tx.Sign.html#TxBody"><span class="hs-identifier">TxBody</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-e05d008dc5f84e61f6938f3fb34d75378a560945725895349343e6a91050827f/share/doc/html/src/Cardano.Api.Ledger.html"><span class="hs-identifier">Cardano.Api.Ledger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-slotting-0.2.0.0-cd0dce4c27014235a7e92319c0ef89c51e34f31fcccf4d9db76782c186d26a52/share/doc/html/src/Cardano.Slotting.Slot.html#EpochInterval"><span class="hs-identifier">EpochInterval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-slotting-0.2.0.0-cd0dce4c27014235a7e92319c0ef89c51e34f31fcccf4d9db76782c186d26a52/share/doc/html/src/Cardano.Slotting.Slot.html#EpochInterval"><span class="hs-identifier">EpochInterval</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-slotting-0.2.0.0-cd0dce4c27014235a7e92319c0ef89c51e34f31fcccf4d9db76782c186d26a52/share/doc/html/src/Cardano.Slotting.Slot.html#unEpochInterval"><span class="hs-identifier">unEpochInterval</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.Testnet.html"><span class="hs-identifier">Cardano.Testnet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Testnet.EpochStateProcessing.html#maybeExtractGovernanceActionIndex"><span class="hs-identifier">maybeExtractGovernanceActionIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Traversable.html#forM"><span class="hs-identifier">forM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#void"><span class="hs-identifier">void</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html"><span class="hs-identifier">Control.Monad.Catch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier">MonadCatch</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/qirw7zmvwhjnw9py4ib12gcd49gn57a7-lens-aeson-lib-lens-aeson-1.2.3-haddock-doc/share/doc/lens-aeson/html/src/Data.Aeson.Lens.html"><span class="hs-identifier">Data.Aeson.Lens</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AL</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Typeable.html"><span class="hs-identifier">Data.Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier">Typeable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Word.html"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Word.html#Word16"><span class="hs-identifier">Word16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Exts.html"><span class="hs-identifier">GHC.Exts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.String.html#fromString"><span class="hs-identifier">fromString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Stack.html"><span class="hs-identifier">GHC.Stack</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/4wrgaqdwnvq11fs5r7vhh737s8imn0cg-microlens-lib-microlens-0.4.13.1-haddock-doc/share/doc/microlens/html/src/Lens.Micro.html"><span class="hs-identifier">Lens.Micro</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/4wrgaqdwnvq11fs5r7vhh737s8imn0cg-microlens-lib-microlens-0.4.13.1-haddock-doc/share/doc/microlens/html/src/Lens.Micro.html#%5E%3F"><span class="hs-operator">(^?)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/template-haskell-2.20.0.0/src/System.FilePath.html"><span class="hs-identifier">System.FilePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator">(&lt;/&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Testnet.Components.Query.html"><span class="hs-identifier">Testnet.Components.Query</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Testnet.Process.Cli.Keys.html"><span class="hs-identifier">Testnet.Process.Cli.Keys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Testnet.Process.Cli.Keys.html#cliStakeAddressKeyGen"><span class="hs-identifier">cliStakeAddressKeyGen</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Testnet.Process.Cli.Transaction.html"><span class="hs-identifier">Testnet.Process.Cli.Transaction</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Testnet.Process.Run.html"><span class="hs-identifier">Testnet.Process.Run</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Testnet.Process.Run.html#execCli%27"><span class="hs-identifier">execCli'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Testnet.Process.Run.html#execCliStdoutToJson"><span class="hs-identifier">execCliStdoutToJson</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Testnet.Types.html"><span class="hs-identifier">Testnet.Types</span></a></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.html"><span class="hs-identifier">Hedgehog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier">MonadTest</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#evalMaybe"><span class="hs-identifier">evalMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.html"><span class="hs-identifier">Hedgehog.Extras</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H</span></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-comment">-- | Generates a key pair for a decentralized representative (DRep) using @cardano-cli@.</span><span>
</span><span id="line-49"></span><span class="hs-comment">--</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- Returns the generated 'PaymentKeyPair' containing paths to the verification and</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- signing key files.</span><span>
</span><span id="line-52"></span><span id="local-6989586621679550794"><span class="annot"><a href="Testnet.Process.Cli.DRep.html#generateDRepKeyPair"><span class="hs-identifier hs-type">generateDRepKeyPair</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550794"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550794"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550794"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Process.html#ExecConfig"><span class="hs-identifier hs-type">H.ExecConfig</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Specifies the CLI execution configuration.</span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Base directory path where keys will be stored.</span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Name for the subfolder that will be created under 'work' folder to store the output keys.</span></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679550794"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Testnet.Types.html#KeyPair"><span class="hs-identifier hs-type">KeyPair</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Keys.Shelley.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-61"></span><span id="generateDRepKeyPair"><span class="annot"><span class="annottext">generateDRepKeyPair :: forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; FilePath -&gt; FilePath -&gt; m (KeyPair PaymentKey)
</span><a href="Testnet.Process.Cli.DRep.html#generateDRepKeyPair"><span class="hs-identifier hs-var hs-var">generateDRepKeyPair</span></a></span></span><span> </span><span id="local-6989586621679551006"><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551006"><span class="hs-identifier hs-var">execConfig</span></a></span></span><span> </span><span id="local-6989586621679551007"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551007"><span class="hs-identifier hs-var">work</span></a></span></span><span> </span><span id="local-6989586621679551008"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551008"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-62"></span><span>  </span><span id="local-6989586621679551009"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551009"><span class="hs-identifier hs-var">baseDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadIO m, HasCallStack) =&gt;
FilePath -&gt; m FilePath
</span><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.File.html#createDirectoryIfMissing"><span class="hs-identifier hs-var">H.createDirectoryIfMissing</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; m FilePath) -&gt; FilePath -&gt; m FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551007"><span class="hs-identifier hs-var">work</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551008"><span class="hs-identifier hs-var">prefix</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679551011"><span class="annot"><span class="annottext">dRepKeyPair :: KeyPair k
</span><a href="#local-6989586621679551011"><span class="hs-identifier hs-var hs-var">dRepKeyPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Testnet.Types.html#KeyPair"><span class="hs-identifier hs-type">KeyPair</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">verificationKey :: forall (dir :: FileDirection). File (VKey k) dir
</span><a href="Testnet.Types.html#verificationKey"><span class="hs-identifier hs-var">verificationKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; File (VKey k) dir
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; File (VKey k) dir) -&gt; FilePath -&gt; File (VKey k) dir
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551009"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;verification.vkey&quot;</span></span><span>
</span><span id="line-64"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">signingKey :: forall (dir :: FileDirection). File (SKey k) dir
</span><a href="Testnet.Types.html#signingKey"><span class="hs-identifier hs-var">signingKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; File (SKey k) dir
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; File (SKey k) dir) -&gt; FilePath -&gt; File (SKey k) dir
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551009"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;signature.skey&quot;</span></span><span>
</span><span id="line-65"></span><span>                            </span><span class="hs-special">}</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="annottext">m FilePath -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(m FilePath -&gt; m ()) -&gt; m FilePath -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; [FilePath] -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; [FilePath] -&gt; m FilePath
</span><a href="Testnet.Process.Run.html#execCli%27"><span class="hs-identifier hs-var">execCli'</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551006"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;conway&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;governance&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;drep&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;key-gen&quot;</span></span><span>
</span><span id="line-67"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--verification-key-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KeyPair Any -&gt; FilePath
forall k. KeyPair k -&gt; FilePath
</span><a href="Testnet.Types.html#verificationKeyFp"><span class="hs-identifier hs-var">verificationKeyFp</span></a></span><span> </span><span class="annot"><span class="annottext">KeyPair Any
forall {k}. KeyPair k
</span><a href="#local-6989586621679551011"><span class="hs-identifier hs-var">dRepKeyPair</span></a></span><span>
</span><span id="line-68"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--signing-key-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KeyPair Any -&gt; FilePath
forall k. KeyPair k -&gt; FilePath
</span><a href="Testnet.Types.html#signingKeyFp"><span class="hs-identifier hs-var">signingKeyFp</span></a></span><span> </span><span class="annot"><span class="annottext">KeyPair Any
forall {k}. KeyPair k
</span><a href="#local-6989586621679551011"><span class="hs-identifier hs-var">dRepKeyPair</span></a></span><span>
</span><span id="line-69"></span><span>                               </span><span class="hs-special">]</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><span class="annottext">KeyPair PaymentKey -&gt; m (KeyPair PaymentKey)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">KeyPair PaymentKey
forall {k}. KeyPair k
</span><a href="#local-6989586621679551011"><span class="hs-identifier hs-var">dRepKeyPair</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-comment">-- DRep registration certificate generation</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">data</span><span> </span><span id="Certificate"><span class="annot"><a href="Testnet.Process.Cli.DRep.html#Certificate"><span class="hs-identifier hs-var">Certificate</span></a></span></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- | Generates a registration certificate for a decentralized representative (DRep)</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- using @cardano-cli@.</span><span>
</span><span id="line-78"></span><span class="hs-comment">--</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- Returns the generated @File DRepRegistrationCertificate In@ file path to the</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- registration certificate.</span><span>
</span><span id="line-81"></span><span id="local-6989586621679550827"><span class="annot"><a href="Testnet.Process.Cli.DRep.html#generateRegistrationCertificate"><span class="hs-identifier hs-type">generateRegistrationCertificate</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550827"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550827"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550827"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Process.html#ExecConfig"><span class="hs-identifier hs-type">H.ExecConfig</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Specifies the CLI execution configuration.</span></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Base directory path where the certificate file will be stored.</span></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Prefix for the output certificate file name. The extension will be @.regcert@.</span></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Types.html#KeyPair"><span class="hs-identifier hs-type">KeyPair</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Keys.Shelley.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span> </span><span class="hs-comment">-- ^ Payment key pair associated with the DRep. Can be generated using</span><span>
</span><span id="line-90"></span><span>                    </span><span class="hs-comment">-- 'generateDRepKeyPair'.</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-comment">-- ^ Deposit amount required for DRep registration. The right amount</span><span>
</span><span id="line-92"></span><span>             </span><span class="hs-comment">-- can be obtained using 'getMinDRepDeposit'.</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679550827"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#Certificate"><span class="hs-identifier hs-type">Certificate</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-94"></span><span id="generateRegistrationCertificate"><span class="annot"><span class="annottext">generateRegistrationCertificate :: forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig
-&gt; FilePath
-&gt; FilePath
-&gt; KeyPair PaymentKey
-&gt; Integer
-&gt; m (File Certificate 'In)
</span><a href="Testnet.Process.Cli.DRep.html#generateRegistrationCertificate"><span class="hs-identifier hs-var hs-var">generateRegistrationCertificate</span></a></span></span><span> </span><span id="local-6989586621679551036"><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551036"><span class="hs-identifier hs-var">execConfig</span></a></span></span><span> </span><span id="local-6989586621679551037"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551037"><span class="hs-identifier hs-var">work</span></a></span></span><span> </span><span id="local-6989586621679551038"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551038"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span id="local-6989586621679551039"><span class="annot"><span class="annottext">KeyPair PaymentKey
</span><a href="#local-6989586621679551039"><span class="hs-identifier hs-var">drepKeyPair</span></a></span></span><span> </span><span id="local-6989586621679551040"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679551040"><span class="hs-identifier hs-var">depositAmount</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679551046"><span class="annot"><span class="annottext">dRepRegistrationCertificate :: File content direction
</span><a href="#local-6989586621679551046"><span class="hs-identifier hs-var hs-var">dRepRegistrationCertificate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; File content direction
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551037"><span class="hs-identifier hs-var">work</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551038"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;.regcert&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>  </span><span class="annot"><span class="annottext">m FilePath -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(m FilePath -&gt; m ()) -&gt; m FilePath -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; [FilePath] -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; [FilePath] -&gt; m FilePath
</span><a href="Testnet.Process.Run.html#execCli%27"><span class="hs-identifier hs-var">execCli'</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551036"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;conway&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;governance&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;drep&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;registration-certificate&quot;</span></span><span>
</span><span id="line-97"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--drep-verification-key-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KeyPair PaymentKey -&gt; FilePath
forall k. KeyPair k -&gt; FilePath
</span><a href="Testnet.Types.html#verificationKeyFp"><span class="hs-identifier hs-var">verificationKeyFp</span></a></span><span> </span><span class="annot"><span class="annottext">KeyPair PaymentKey
</span><a href="#local-6989586621679551039"><span class="hs-identifier hs-var">drepKeyPair</span></a></span><span>
</span><span id="line-98"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--key-reg-deposit-amt&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679551040"><span class="hs-identifier hs-var">depositAmount</span></a></span><span>
</span><span id="line-99"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--out-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">File Any Any -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span> </span><span class="annot"><span class="annottext">File Any Any
forall {content} {direction :: FileDirection}.
File content direction
</span><a href="#local-6989586621679551046"><span class="hs-identifier hs-var">dRepRegistrationCertificate</span></a></span><span>
</span><span id="line-100"></span><span>                               </span><span class="hs-special">]</span><span>
</span><span id="line-101"></span><span>  </span><span class="annot"><span class="annottext">File Certificate 'In -&gt; m (File Certificate 'In)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">File Certificate 'In
forall {content} {direction :: FileDirection}.
File content direction
</span><a href="#local-6989586621679551046"><span class="hs-identifier hs-var">dRepRegistrationCertificate</span></a></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">-- DRep registration transaction composition (without signing)</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-comment">-- | Composes a certificate publication transaction body (without signing) using @cardano-cli@.</span><span>
</span><span id="line-107"></span><span class="hs-comment">--</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- Returns the generated @File TxBody In@ file path to the transaction body.</span><span>
</span><span id="line-109"></span><span id="local-6989586621679550842"><span id="local-6989586621679550845"><span class="annot"><a href="Testnet.Process.Cli.DRep.html#createCertificatePublicationTxBody"><span class="hs-identifier hs-type">createCertificatePublicationTxBody</span></a></span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.MonadAssertion.html#MonadAssertion"><span class="hs-identifier hs-type">H.MonadAssertion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550842"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550842"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550842"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550842"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Process.html#ExecConfig"><span class="hs-identifier hs-type">H.ExecConfig</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Specifies the CLI execution configuration.</span></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Components.Query.html#EpochStateView"><span class="hs-identifier hs-type">EpochStateView</span></a></span><span> </span><span class="hs-comment">-- ^ Current epoch state view for transaction building. It can be obtained</span><span>
</span><span id="line-116"></span><span>                    </span><span class="hs-comment">-- using the 'getEpochStateView' function.</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eon.ShelleyBasedEra.html#ShelleyBasedEra"><span class="hs-identifier hs-type">ShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550845"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The Shelley-based era (e.g., 'ShelleyBasedEraShelley') in which the transaction will be constructed.</span></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Base directory path where the transaction body file will be stored.</span></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Prefix for the output transaction body file name. The extension will be @.txbody@.</span></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="Testnet.Process.Cli.DRep.html#Certificate"><span class="hs-identifier hs-type">Certificate</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The file name of the certificate.</span></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Types.html#PaymentKeyInfo"><span class="hs-identifier hs-type">PaymentKeyInfo</span></a></span><span> </span><span class="hs-comment">-- ^ Payment key information associated with the transaction,</span><span>
</span><span id="line-122"></span><span>                    </span><span class="hs-comment">-- as returned by 'cardanoTestnetDefault'.</span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679550842"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="Testnet.Process.Cli.Transaction.html#TxBody"><span class="hs-identifier hs-type">TxBody</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-124"></span><span id="createCertificatePublicationTxBody"><span class="annot"><span class="annottext">createCertificatePublicationTxBody :: forall (m :: * -&gt; *) era.
(MonadAssertion m, MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig
-&gt; EpochStateView
-&gt; ShelleyBasedEra era
-&gt; FilePath
-&gt; FilePath
-&gt; File Certificate 'In
-&gt; PaymentKeyInfo
-&gt; m (File TxBody 'In)
</span><a href="Testnet.Process.Cli.DRep.html#createCertificatePublicationTxBody"><span class="hs-identifier hs-var hs-var">createCertificatePublicationTxBody</span></a></span></span><span> </span><span id="local-6989586621679551075"><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551075"><span class="hs-identifier hs-var">execConfig</span></a></span></span><span> </span><span id="local-6989586621679551076"><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551076"><span class="hs-identifier hs-var">epochStateView</span></a></span></span><span> </span><span id="local-6989586621679551077"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679551077"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621679551078"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551078"><span class="hs-identifier hs-var">work</span></a></span></span><span> </span><span id="local-6989586621679551079"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551079"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span id="local-6989586621679551080"><span class="annot"><span class="annottext">File Certificate 'In
</span><a href="#local-6989586621679551080"><span class="hs-identifier hs-var">cert</span></a></span></span><span> </span><span id="local-6989586621679551081"><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551081"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679551085"><span class="annot"><span class="annottext">dRepRegistrationTxBody :: File content direction
</span><a href="#local-6989586621679551085"><span class="hs-identifier hs-var hs-var">dRepRegistrationTxBody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; File content direction
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551078"><span class="hs-identifier hs-var">work</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551079"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;.txbody&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621679551086"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679551086"><span class="hs-identifier hs-var">walletLargestUTXO</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">EpochStateView -&gt; ShelleyBasedEra era -&gt; PaymentKeyInfo -&gt; m TxIn
forall (m :: * -&gt; *) era.
(MonadTest m, MonadAssertion m, MonadIO m, HasCallStack) =&gt;
EpochStateView -&gt; ShelleyBasedEra era -&gt; PaymentKeyInfo -&gt; m TxIn
</span><a href="Testnet.Components.Query.html#findLargestUtxoForPaymentKey"><span class="hs-identifier hs-var">findLargestUtxoForPaymentKey</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551076"><span class="hs-identifier hs-var">epochStateView</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679551077"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551081"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="annot"><span class="annottext">m FilePath -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(m FilePath -&gt; m ()) -&gt; m FilePath -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; [FilePath] -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; [FilePath] -&gt; m FilePath
</span><a href="Testnet.Process.Run.html#execCli%27"><span class="hs-identifier hs-var">execCli'</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551075"><span class="hs-identifier hs-var">execConfig</span></a></span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;conway&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;transaction&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;build&quot;</span></span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--change-address&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; FilePath) -&gt; Text -&gt; FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo -&gt; Text
</span><a href="Testnet.Types.html#paymentKeyInfoAddr"><span class="hs-identifier hs-var">paymentKeyInfoAddr</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551081"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--tx-in&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; FilePath) -&gt; Text -&gt; FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.TxIn.html#renderTxIn"><span class="hs-identifier hs-var">renderTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679551086"><span class="hs-identifier hs-var">walletLargestUTXO</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--certificate-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">File Certificate 'In -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span> </span><span class="annot"><span class="annottext">File Certificate 'In
</span><a href="#local-6989586621679551080"><span class="hs-identifier hs-var">cert</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--witness-override&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--out-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">File Any Any -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span> </span><span class="annot"><span class="annottext">File Any Any
forall {content} {direction :: FileDirection}.
File content direction
</span><a href="#local-6989586621679551085"><span class="hs-identifier hs-var">dRepRegistrationTxBody</span></a></span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><span class="annottext">File TxBody 'In -&gt; m (File TxBody 'In)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">File TxBody 'In
forall {content} {direction :: FileDirection}.
File content direction
</span><a href="#local-6989586621679551085"><span class="hs-identifier hs-var">dRepRegistrationTxBody</span></a></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="hs-comment">-- Vote file generation</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- | Generates decentralized representative (DRep) voting files (without signing)</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- using @cardano-cli@.</span><span>
</span><span id="line-141"></span><span class="hs-comment">--</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- Returns a list of generated @File VoteFile In@ representing the paths to</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- the generated voting files.</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- TODO: unify with SPO.generateVoteFiles</span><span>
</span><span id="line-145"></span><span id="local-6989586621679550858"><span class="annot"><a href="Testnet.Process.Cli.DRep.html#generateVoteFiles"><span class="hs-identifier hs-type">generateVoteFiles</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550858"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550858"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550858"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Process.html#ExecConfig"><span class="hs-identifier hs-type">H.ExecConfig</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Specifies the CLI execution configuration.</span></span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-comment">-- ^ Base directory path where the voting files and directories will be</span><span>
</span><span id="line-151"></span><span>              </span><span class="hs-comment">-- stored.</span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-comment">-- ^ Name for the subfolder that will be created under 'work' to store</span><span>
</span><span id="line-153"></span><span>            </span><span class="hs-comment">-- the output voting files.</span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Transaction ID string of the governance action.</span></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Word.html#Word16"><span class="hs-identifier hs-type">Word16</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Index of the governance action.</span></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Testnet.Types.html#KeyPair"><span class="hs-identifier hs-type">KeyPair</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Keys.Shelley.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Char"><span class="hs-identifier hs-type">Char</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ List of tuples where each tuple contains a 'PaymentKeyPair'</span><span>
</span><span id="line-157"></span><span>                                </span><span class="hs-comment">-- representing the DRep key pair and a 'String' representing the</span><span>
</span><span id="line-158"></span><span>                                </span><span class="hs-comment">-- vote type (i.e: &quot;yes&quot;, &quot;no&quot;, or &quot;abstain&quot;).</span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679550858"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="Testnet.Process.Cli.Transaction.html#VoteFile"><span class="hs-identifier hs-type">VoteFile</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-160"></span><span id="generateVoteFiles"><span class="annot"><span class="annottext">generateVoteFiles :: forall (m :: * -&gt; *).
(MonadTest m, MonadIO m, MonadCatch m) =&gt;
ExecConfig
-&gt; FilePath
-&gt; FilePath
-&gt; FilePath
-&gt; Word16
-&gt; [(KeyPair PaymentKey, FilePath)]
-&gt; m [File VoteFile 'In]
</span><a href="Testnet.Process.Cli.DRep.html#generateVoteFiles"><span class="hs-identifier hs-var hs-var">generateVoteFiles</span></a></span></span><span> </span><span id="local-6989586621679551119"><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551119"><span class="hs-identifier hs-var">execConfig</span></a></span></span><span> </span><span id="local-6989586621679551120"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551120"><span class="hs-identifier hs-var">work</span></a></span></span><span> </span><span id="local-6989586621679551121"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551121"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span id="local-6989586621679551122"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551122"><span class="hs-identifier hs-var">governanceActionTxId</span></a></span></span><span> </span><span id="local-6989586621679551123"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679551123"><span class="hs-identifier hs-var">governanceActionIndex</span></a></span></span><span> </span><span id="local-6989586621679551124"><span class="annot"><span class="annottext">[(KeyPair PaymentKey, FilePath)]
</span><a href="#local-6989586621679551124"><span class="hs-identifier hs-var">allVotes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-161"></span><span>  </span><span id="local-6989586621679551125"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551125"><span class="hs-identifier hs-var">baseDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadIO m, HasCallStack) =&gt;
FilePath -&gt; m FilePath
</span><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.File.html#createDirectoryIfMissing"><span class="hs-identifier hs-var">H.createDirectoryIfMissing</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; m FilePath) -&gt; FilePath -&gt; m FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551120"><span class="hs-identifier hs-var">work</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551121"><span class="hs-identifier hs-var">prefix</span></a></span><span>
</span><span id="line-162"></span><span>  </span><span class="annot"><span class="annottext">[(Integer, (KeyPair PaymentKey, FilePath))]
-&gt; ((Integer, (KeyPair PaymentKey, FilePath))
    -&gt; m (File VoteFile 'In))
-&gt; m [File VoteFile 'In]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Traversable.html#forM"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Integer]
-&gt; [(KeyPair PaymentKey, FilePath)]
-&gt; [(Integer, (KeyPair PaymentKey, FilePath))]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[(KeyPair PaymentKey, FilePath)]
</span><a href="#local-6989586621679551124"><span class="hs-identifier hs-var">allVotes</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(((Integer, (KeyPair PaymentKey, FilePath))
  -&gt; m (File VoteFile 'In))
 -&gt; m [File VoteFile 'In])
-&gt; ((Integer, (KeyPair PaymentKey, FilePath))
    -&gt; m (File VoteFile 'In))
-&gt; m [File VoteFile 'In]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679551126"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679551126"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679551127"><span class="annot"><span class="annottext">KeyPair PaymentKey
</span><a href="#local-6989586621679551127"><span class="hs-identifier hs-var">drepKeyPair</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679551128"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551128"><span class="hs-identifier hs-var">vote</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-163"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679551133"><span class="annot"><span class="annottext">path :: File content direction
</span><a href="#local-6989586621679551133"><span class="hs-identifier hs-var hs-var">path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; File content direction
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551125"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;vote-drep-&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679551126"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>    </span><span class="annot"><span class="annottext">m FilePath -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(m FilePath -&gt; m ()) -&gt; m FilePath -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; [FilePath] -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; [FilePath] -&gt; m FilePath
</span><a href="Testnet.Process.Run.html#execCli%27"><span class="hs-identifier hs-var">execCli'</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551119"><span class="hs-identifier hs-var">execConfig</span></a></span><span>
</span><span id="line-165"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;conway&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;governance&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;vote&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;create&quot;</span></span><span>
</span><span id="line-166"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551128"><span class="hs-identifier hs-var">vote</span></a></span><span>
</span><span id="line-167"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--governance-action-tx-id&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551122"><span class="hs-identifier hs-var">governanceActionTxId</span></a></span><span>
</span><span id="line-168"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--governance-action-index&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Word.html#Word16"><span class="hs-identifier hs-type">Word16</span></a></span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679551123"><span class="hs-identifier hs-var">governanceActionIndex</span></a></span><span>
</span><span id="line-169"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--drep-verification-key-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KeyPair PaymentKey -&gt; FilePath
forall k. KeyPair k -&gt; FilePath
</span><a href="Testnet.Types.html#verificationKeyFp"><span class="hs-identifier hs-var">verificationKeyFp</span></a></span><span> </span><span class="annot"><span class="annottext">KeyPair PaymentKey
</span><a href="#local-6989586621679551127"><span class="hs-identifier hs-var">drepKeyPair</span></a></span><span>
</span><span id="line-170"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--out-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">File Any Any -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span> </span><span class="annot"><span class="annottext">File Any Any
forall {content} {direction :: FileDirection}.
File content direction
</span><a href="#local-6989586621679551133"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-171"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-172"></span><span>    </span><span class="annot"><span class="annottext">File VoteFile 'In -&gt; m (File VoteFile 'In)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">File VoteFile 'In
forall {content} {direction :: FileDirection}.
File content direction
</span><a href="#local-6989586621679551133"><span class="hs-identifier hs-var">path</span></a></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-comment">-- | Composes a voting transaction body file using @cardano-cli@.</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- For the transaction to be valid it needs witnesses corresponding</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- to the spent UTxOs and votes issued (typically these witnesses are</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- cryptographic signatures). This function does not sign the transaction,</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- that can be done with 'signTx'.</span><span>
</span><span id="line-179"></span><span class="hs-comment">--</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- Returns the generated @File TxBody In@ file path to the transaction body.</span><span>
</span><span id="line-181"></span><span id="local-6989586621679550870"><span id="local-6989586621679550871"><span class="annot"><a href="Testnet.Process.Cli.DRep.html#createVotingTxBody"><span class="hs-identifier hs-type">createVotingTxBody</span></a></span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.MonadAssertion.html#MonadAssertion"><span class="hs-identifier hs-type">H.MonadAssertion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550870"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550870"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550870"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550870"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Process.html#ExecConfig"><span class="hs-identifier hs-type">H.ExecConfig</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Specifies the CLI execution configuration.</span></span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Components.Query.html#EpochStateView"><span class="hs-identifier hs-type">EpochStateView</span></a></span><span> </span><span class="hs-comment">-- ^ Current epoch state view for transaction building. It can be obtained</span><span>
</span><span id="line-188"></span><span>                    </span><span class="hs-comment">-- using the 'getEpochStateView' function.</span><span>
</span><span id="line-189"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eon.ShelleyBasedEra.html#ShelleyBasedEra"><span class="hs-identifier hs-type">ShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550871"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The Shelley-based era (e.g., 'ShelleyBasedEraShelley') in which the transaction will be constructed.</span></span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Base directory path where the transaction body file will be stored.</span></span><span>
</span><span id="line-191"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Prefix for the output transaction body file name. The extension will be @.txbody@.</span></span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="Testnet.Process.Cli.Transaction.html#VoteFile"><span class="hs-identifier hs-type">VoteFile</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ List of voting files (@File VoteFile In@) to include in the transaction,</span><span>
</span><span id="line-193"></span><span>                        </span><span class="hs-comment">-- obtained using 'generateVoteFiles'.</span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Types.html#PaymentKeyInfo"><span class="hs-identifier hs-type">PaymentKeyInfo</span></a></span><span> </span><span class="hs-comment">-- ^ Payment key information associated with the transaction,</span><span>
</span><span id="line-195"></span><span>                    </span><span class="hs-comment">-- as returned by 'cardanoTestnetDefault'.</span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679550870"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span class="annot"><a href="Testnet.Process.Cli.Transaction.html#TxBody"><span class="hs-identifier hs-type">TxBody</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#In"><span class="hs-identifier hs-type">In</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-197"></span><span id="createVotingTxBody"><span class="annot"><span class="annottext">createVotingTxBody :: forall (m :: * -&gt; *) era.
(MonadAssertion m, MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig
-&gt; EpochStateView
-&gt; ShelleyBasedEra era
-&gt; FilePath
-&gt; FilePath
-&gt; [File VoteFile 'In]
-&gt; PaymentKeyInfo
-&gt; m (File TxBody 'In)
</span><a href="Testnet.Process.Cli.DRep.html#createVotingTxBody"><span class="hs-identifier hs-var hs-var">createVotingTxBody</span></a></span></span><span> </span><span id="local-6989586621679551168"><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551168"><span class="hs-identifier hs-var">execConfig</span></a></span></span><span> </span><span id="local-6989586621679551169"><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551169"><span class="hs-identifier hs-var">epochStateView</span></a></span></span><span> </span><span id="local-6989586621679551170"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679551170"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621679551171"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551171"><span class="hs-identifier hs-var">work</span></a></span></span><span> </span><span id="local-6989586621679551172"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551172"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span id="local-6989586621679551173"><span class="annot"><span class="annottext">[File VoteFile 'In]
</span><a href="#local-6989586621679551173"><span class="hs-identifier hs-var">votes</span></a></span></span><span> </span><span id="local-6989586621679551174"><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551174"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679551178"><span class="annot"><span class="annottext">votingTxBody :: File content direction
</span><a href="#local-6989586621679551178"><span class="hs-identifier hs-var hs-var">votingTxBody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; File content direction
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551171"><span class="hs-identifier hs-var">work</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551172"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;.txbody&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>  </span><span id="local-6989586621679551179"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679551179"><span class="hs-identifier hs-var">walletLargestUTXO</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">EpochStateView -&gt; ShelleyBasedEra era -&gt; PaymentKeyInfo -&gt; m TxIn
forall (m :: * -&gt; *) era.
(MonadTest m, MonadAssertion m, MonadIO m, HasCallStack) =&gt;
EpochStateView -&gt; ShelleyBasedEra era -&gt; PaymentKeyInfo -&gt; m TxIn
</span><a href="Testnet.Components.Query.html#findLargestUtxoForPaymentKey"><span class="hs-identifier hs-var">findLargestUtxoForPaymentKey</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551169"><span class="hs-identifier hs-var">epochStateView</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679551170"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551174"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-200"></span><span>  </span><span class="annot"><span class="annottext">m FilePath -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(m FilePath -&gt; m ()) -&gt; m FilePath -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; [FilePath] -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; [FilePath] -&gt; m FilePath
</span><a href="Testnet.Process.Run.html#execCli%27"><span class="hs-identifier hs-var">execCli'</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551168"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">([FilePath] -&gt; m FilePath) -&gt; [FilePath] -&gt; m FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;conway&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;transaction&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;build&quot;</span></span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--change-address&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; FilePath) -&gt; Text -&gt; FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo -&gt; Text
</span><a href="Testnet.Types.html#paymentKeyInfoAddr"><span class="hs-identifier hs-var">paymentKeyInfoAddr</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551174"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--tx-in&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; FilePath) -&gt; Text -&gt; FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.TxIn.html#renderTxIn"><span class="hs-identifier hs-var">renderTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679551179"><span class="hs-identifier hs-var">walletLargestUTXO</span></a></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; [FilePath] -&gt; [FilePath]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[[FilePath]] -&gt; [FilePath]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--vote-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551181"><span class="hs-identifier hs-var">voteFile</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621679551181"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551181"><span class="hs-identifier hs-var">voteFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[File VoteFile 'In]
</span><a href="#local-6989586621679551173"><span class="hs-identifier hs-var">votes</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; [FilePath] -&gt; [FilePath]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--witness-override&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[File VoteFile 'In] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Foldable.html#length"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[File VoteFile 'In]
</span><a href="#local-6989586621679551173"><span class="hs-identifier hs-var">votes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--out-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">File Any Any -&gt; FilePath
forall content (direction :: FileDirection).
File content direction -&gt; FilePath
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#unFile"><span class="hs-identifier hs-var">unFile</span></a></span><span> </span><span class="annot"><span class="annottext">File Any Any
forall {content} {direction :: FileDirection}.
File content direction
</span><a href="#local-6989586621679551178"><span class="hs-identifier hs-var">votingTxBody</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><span class="annottext">File TxBody 'In -&gt; m (File TxBody 'In)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">File TxBody 'In
forall {content} {direction :: FileDirection}.
File content direction
</span><a href="#local-6989586621679551178"><span class="hs-identifier hs-var">votingTxBody</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-comment">-- | Register a Delegate Representative (DRep) using @cardano-cli@,</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- generating a fresh key pair in the process.</span><span>
</span><span id="line-212"></span><span class="hs-comment">--</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- Returns the key pair for the DRep as a 'PaymentKeyPair'.</span><span>
</span><span id="line-214"></span><span id="local-6989586621679550880"><span class="annot"><a href="Testnet.Process.Cli.DRep.html#registerDRep"><span class="hs-identifier hs-type">registerDRep</span></a></span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550880"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550880"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550880"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.MonadAssertion.html#MonadAssertion"><span class="hs-identifier hs-type">H.MonadAssertion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550880"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Process.html#ExecConfig"><span class="hs-identifier hs-type">H.ExecConfig</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Specifies the CLI execution configuration.</span></span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Components.Query.html#EpochStateView"><span class="hs-identifier hs-type">EpochStateView</span></a></span><span> </span><span class="hs-comment">-- ^ Current epoch state view for transaction building. It can be obtained</span><span>
</span><span id="line-222"></span><span>                    </span><span class="hs-comment">-- using the 'getEpochStateView' function.</span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eon.ConwayEraOnwards.html#ConwayEraOnwards"><span class="hs-identifier hs-type">ConwayEraOnwards</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eras.Core.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The conway era onwards witness for the era in which the transaction will be constructed.</span></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Base directory path where the signed transaction file will be stored.</span></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Name for the subfolder that will be created under 'work' folder to store the output keys.</span></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Types.html#PaymentKeyInfo"><span class="hs-identifier hs-type">PaymentKeyInfo</span></a></span><span> </span><span class="hs-comment">-- ^ Payment key information associated with the transaction,</span><span>
</span><span id="line-227"></span><span>                    </span><span class="hs-comment">-- as returned by 'cardanoTestnetDefault'.</span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679550880"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Testnet.Types.html#KeyPair"><span class="hs-identifier hs-type">KeyPair</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Keys.Shelley.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-229"></span><span id="registerDRep"><span class="annot"><span class="annottext">registerDRep :: forall (m :: * -&gt; *).
(HasCallStack, MonadCatch m, MonadIO m, MonadTest m,
 MonadAssertion m) =&gt;
ExecConfig
-&gt; EpochStateView
-&gt; ConwayEraOnwards ConwayEra
-&gt; FilePath
-&gt; FilePath
-&gt; PaymentKeyInfo
-&gt; m (KeyPair PaymentKey)
</span><a href="Testnet.Process.Cli.DRep.html#registerDRep"><span class="hs-identifier hs-var hs-var">registerDRep</span></a></span></span><span> </span><span id="local-6989586621679551229"><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551229"><span class="hs-identifier hs-var">execConfig</span></a></span></span><span> </span><span id="local-6989586621679551230"><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551230"><span class="hs-identifier hs-var">epochStateView</span></a></span></span><span> </span><span id="local-6989586621679551231"><span class="annot"><span class="annottext">ConwayEraOnwards ConwayEra
</span><a href="#local-6989586621679551231"><span class="hs-identifier hs-var">ceo</span></a></span></span><span> </span><span id="local-6989586621679551232"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551232"><span class="hs-identifier hs-var">work</span></a></span></span><span> </span><span id="local-6989586621679551233"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551233"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span id="local-6989586621679551234"><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551234"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679551235"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra ConwayEra
</span><a href="#local-6989586621679551235"><span class="hs-identifier hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards ConwayEra -&gt; ShelleyBasedEra ConwayEra
forall era. ConwayEraOnwards era -&gt; ShelleyBasedEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eon.ConwayEraOnwards.html#conwayEraOnwardsToShelleyBasedEra"><span class="hs-identifier hs-var">conwayEraOnwardsToShelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards ConwayEra
</span><a href="#local-6989586621679551231"><span class="hs-identifier hs-var">ceo</span></a></span><span>
</span><span id="line-231"></span><span>      </span><span id="local-6989586621679551239"><span class="annot"><span class="annottext">era :: CardanoEra ConwayEra
</span><a href="#local-6989586621679551239"><span class="hs-identifier hs-var hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra ConwayEra -&gt; CardanoEra ConwayEra
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eras.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra ConwayEra
</span><a href="#local-6989586621679551235"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-232"></span><span>      </span><span id="local-6989586621679551242"><span class="annot"><span class="annottext">cEra :: AnyCardanoEra
</span><a href="#local-6989586621679551242"><span class="hs-identifier hs-var hs-var">cEra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CardanoEra ConwayEra -&gt; AnyCardanoEra
forall era. Typeable era =&gt; CardanoEra era -&gt; AnyCardanoEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eras.Core.html#AnyCardanoEra"><span class="hs-identifier hs-var">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra ConwayEra
</span><a href="#local-6989586621679551239"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span>  </span><span id="local-6989586621679551244"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679551244"><span class="hs-identifier hs-var">minDRepDeposit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">EpochStateView -&gt; ConwayEraOnwards ConwayEra -&gt; m Integer
forall (m :: * -&gt; *) era.
(HasCallStack, MonadAssertion m, MonadIO m, MonadTest m) =&gt;
EpochStateView -&gt; ConwayEraOnwards era -&gt; m Integer
</span><a href="Testnet.Components.Query.html#getMinDRepDeposit"><span class="hs-identifier hs-var">getMinDRepDeposit</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551230"><span class="hs-identifier hs-var">epochStateView</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards ConwayEra
</span><a href="#local-6989586621679551231"><span class="hs-identifier hs-var">ceo</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span>  </span><span id="local-6989586621679551245"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551245"><span class="hs-identifier hs-var">baseDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadIO m, HasCallStack) =&gt;
FilePath -&gt; m FilePath
</span><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.File.html#createDirectoryIfMissing"><span class="hs-identifier hs-var">H.createDirectoryIfMissing</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; m FilePath) -&gt; FilePath -&gt; m FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551232"><span class="hs-identifier hs-var">work</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551233"><span class="hs-identifier hs-var">prefix</span></a></span><span>
</span><span id="line-237"></span><span>  </span><span id="local-6989586621679551246"><span class="annot"><span class="annottext">KeyPair PaymentKey
</span><a href="#local-6989586621679551246"><span class="hs-identifier hs-var">drepKeyPair</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; FilePath -&gt; FilePath -&gt; m (KeyPair PaymentKey)
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; FilePath -&gt; FilePath -&gt; m (KeyPair PaymentKey)
</span><a href="Testnet.Process.Cli.DRep.html#generateDRepKeyPair"><span class="hs-identifier hs-var">generateDRepKeyPair</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551229"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551245"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;keys&quot;</span></span><span>
</span><span id="line-238"></span><span>  </span><span id="local-6989586621679551247"><span class="annot"><span class="annottext">File Certificate 'In
</span><a href="#local-6989586621679551247"><span class="hs-identifier hs-var">drepRegCert</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExecConfig
-&gt; FilePath
-&gt; FilePath
-&gt; KeyPair PaymentKey
-&gt; Integer
-&gt; m (File Certificate 'In)
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig
-&gt; FilePath
-&gt; FilePath
-&gt; KeyPair PaymentKey
-&gt; Integer
-&gt; m (File Certificate 'In)
</span><a href="Testnet.Process.Cli.DRep.html#generateRegistrationCertificate"><span class="hs-identifier hs-var">generateRegistrationCertificate</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551229"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551245"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;reg-cert&quot;</span></span><span>
</span><span id="line-239"></span><span>                                                  </span><span class="annot"><span class="annottext">KeyPair PaymentKey
</span><a href="#local-6989586621679551246"><span class="hs-identifier hs-var">drepKeyPair</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679551244"><span class="hs-identifier hs-var">minDRepDeposit</span></a></span><span>
</span><span id="line-240"></span><span>  </span><span id="local-6989586621679551248"><span class="annot"><span class="annottext">File TxBody 'In
</span><a href="#local-6989586621679551248"><span class="hs-identifier hs-var">drepRegTxBody</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExecConfig
-&gt; EpochStateView
-&gt; ShelleyBasedEra ConwayEra
-&gt; FilePath
-&gt; FilePath
-&gt; File Certificate 'In
-&gt; PaymentKeyInfo
-&gt; m (File TxBody 'In)
forall (m :: * -&gt; *) era.
(MonadAssertion m, MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig
-&gt; EpochStateView
-&gt; ShelleyBasedEra era
-&gt; FilePath
-&gt; FilePath
-&gt; File Certificate 'In
-&gt; PaymentKeyInfo
-&gt; m (File TxBody 'In)
</span><a href="Testnet.Process.Cli.DRep.html#createCertificatePublicationTxBody"><span class="hs-identifier hs-var">createCertificatePublicationTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551229"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551230"><span class="hs-identifier hs-var">epochStateView</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra ConwayEra
</span><a href="#local-6989586621679551235"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551245"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;reg-cert-txbody&quot;</span></span><span>
</span><span id="line-241"></span><span>                                                       </span><span class="annot"><span class="annottext">File Certificate 'In
</span><a href="#local-6989586621679551247"><span class="hs-identifier hs-var">drepRegCert</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551234"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-242"></span><span>  </span><span id="local-6989586621679551249"><span class="annot"><span class="annottext">File SignedTx 'In
</span><a href="#local-6989586621679551249"><span class="hs-identifier hs-var">drepSignedRegTx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExecConfig
-&gt; AnyCardanoEra
-&gt; FilePath
-&gt; FilePath
-&gt; File TxBody 'In
-&gt; [SomeKeyPair]
-&gt; m (File SignedTx 'In)
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig
-&gt; AnyCardanoEra
-&gt; FilePath
-&gt; FilePath
-&gt; File TxBody 'In
-&gt; [SomeKeyPair]
-&gt; m (File SignedTx 'In)
</span><a href="Testnet.Process.Cli.Transaction.html#signTx"><span class="hs-identifier hs-var">signTx</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551229"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679551242"><span class="hs-identifier hs-var">cEra</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551245"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;signed-reg-tx&quot;</span></span><span>
</span><span id="line-243"></span><span>                             </span><span class="annot"><span class="annottext">File TxBody 'In
</span><a href="#local-6989586621679551248"><span class="hs-identifier hs-var">drepRegTxBody</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">KeyPair PaymentKey -&gt; SomeKeyPair
forall a. KeyPair a -&gt; SomeKeyPair
</span><a href="Testnet.Types.html#SomeKeyPair"><span class="hs-identifier hs-var">SomeKeyPair</span></a></span><span> </span><span class="annot"><span class="annottext">KeyPair PaymentKey
</span><a href="#local-6989586621679551246"><span class="hs-identifier hs-var">drepKeyPair</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KeyPair PaymentKey -&gt; SomeKeyPair
forall a. KeyPair a -&gt; SomeKeyPair
</span><a href="Testnet.Types.html#SomeKeyPair"><span class="hs-identifier hs-var">SomeKeyPair</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyPair PaymentKey -&gt; SomeKeyPair)
-&gt; KeyPair PaymentKey -&gt; SomeKeyPair
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo -&gt; KeyPair PaymentKey
</span><a href="Testnet.Types.html#paymentKeyInfoPair"><span class="hs-identifier hs-var">paymentKeyInfoPair</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551234"><span class="hs-identifier hs-var">wallet</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><span class="annottext">ExecConfig -&gt; AnyCardanoEra -&gt; File SignedTx 'In -&gt; m ()
forall (m :: * -&gt; *).
(HasCallStack, MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig -&gt; AnyCardanoEra -&gt; File SignedTx 'In -&gt; m ()
</span><a href="Testnet.Process.Cli.Transaction.html#submitTx"><span class="hs-identifier hs-var">submitTx</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551229"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679551242"><span class="hs-identifier hs-var">cEra</span></a></span><span> </span><span class="annot"><span class="annottext">File SignedTx 'In
</span><a href="#local-6989586621679551249"><span class="hs-identifier hs-var">drepSignedRegTx</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span>  </span><span class="annot"><span class="annottext">KeyPair PaymentKey -&gt; m (KeyPair PaymentKey)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">KeyPair PaymentKey
</span><a href="#local-6989586621679551246"><span class="hs-identifier hs-var">drepKeyPair</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="hs-comment">-- | Delegate to a Delegate Representative (DRep) by creating and submitting</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- a vote delegation certificate transaction using @cardano-cli@.</span><span>
</span><span id="line-250"></span><span id="local-6989586621679550899"><span class="annot"><a href="Testnet.Process.Cli.DRep.html#delegateToDRep"><span class="hs-identifier hs-type">delegateToDRep</span></a></span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550899"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550899"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.MonadAssertion.html#MonadAssertion"><span class="hs-identifier hs-type">H.MonadAssertion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550899"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-255"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550899"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Process.html#ExecConfig"><span class="hs-identifier hs-type">H.ExecConfig</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Specifies the CLI execution configuration.</span></span><span>
</span><span id="line-257"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Components.Query.html#EpochStateView"><span class="hs-identifier hs-type">EpochStateView</span></a></span><span> </span><span class="hs-comment">-- ^ Current epoch state view for transaction building. It can be obtained</span><span>
</span><span id="line-258"></span><span>                    </span><span class="hs-comment">-- using the 'getEpochStateView' function.</span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eon.ShelleyBasedEra.html#ShelleyBasedEra"><span class="hs-identifier hs-type">ShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eras.Core.html#ConwayEra"><span class="hs-identifier hs-type">ConwayEra</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The Shelley-based era (e.g., 'ConwayEra') in which the transaction will be constructed.</span></span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Base directory path where generated files will be stored.</span></span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Name for the subfolder that will be created under 'work' folder.</span></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Types.html#PaymentKeyInfo"><span class="hs-identifier hs-type">PaymentKeyInfo</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Wallet that will pay for the transaction.</span></span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Types.html#KeyPair"><span class="hs-identifier hs-type">KeyPair</span></a></span><span> </span><span class="annot"><a href="Testnet.Types.html#StakingKey"><span class="hs-identifier hs-type">StakingKey</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Staking key pair used for delegation.</span></span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Types.html#KeyPair"><span class="hs-identifier hs-type">KeyPair</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Keys.Shelley.html#PaymentKey"><span class="hs-identifier hs-type">PaymentKey</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Delegate Representative (DRep) key pair ('PaymentKeyPair') to which delegate.</span></span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679550899"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-266"></span><span id="delegateToDRep"><span class="annot"><span class="annottext">delegateToDRep :: forall (m :: * -&gt; *).
(HasCallStack, MonadTest m, MonadIO m, MonadAssertion m,
 MonadCatch m) =&gt;
ExecConfig
-&gt; EpochStateView
-&gt; ShelleyBasedEra ConwayEra
-&gt; FilePath
-&gt; FilePath
-&gt; PaymentKeyInfo
-&gt; KeyPair StakingKey
-&gt; KeyPair PaymentKey
-&gt; m ()
</span><a href="Testnet.Process.Cli.DRep.html#delegateToDRep"><span class="hs-identifier hs-var hs-var">delegateToDRep</span></a></span></span><span> </span><span id="local-6989586621679551297"><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551297"><span class="hs-identifier hs-var">execConfig</span></a></span></span><span> </span><span id="local-6989586621679551298"><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551298"><span class="hs-identifier hs-var">epochStateView</span></a></span></span><span> </span><span id="local-6989586621679551299"><span class="annot"><span class="annottext">ShelleyBasedEra ConwayEra
</span><a href="#local-6989586621679551299"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621679551300"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551300"><span class="hs-identifier hs-var">work</span></a></span></span><span> </span><span id="local-6989586621679551301"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551301"><span class="hs-identifier hs-var">prefix</span></a></span></span><span>
</span><span id="line-267"></span><span>               </span><span id="local-6989586621679551302"><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551302"><span class="hs-identifier hs-var">payingWallet</span></a></span></span><span> </span><span id="local-6989586621679551303"><span class="annot"><span class="annottext">skeyPair :: KeyPair StakingKey
</span><a href="#local-6989586621679551303"><span class="hs-identifier hs-var">skeyPair</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Testnet.Types.html#KeyPair"><span class="hs-identifier hs-type">KeyPair</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">verificationKey :: forall k.
KeyPair k -&gt; forall (dir :: FileDirection). File (VKey k) dir
</span><a href="Testnet.Types.html#verificationKey"><span class="hs-identifier hs-var">verificationKey</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621679551304"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551304"><span class="hs-identifier hs-var">vKeyFile</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-268"></span><span>               </span><span class="annot"><a href="Testnet.Types.html#KeyPair"><span class="hs-identifier hs-type">KeyPair</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">verificationKey :: forall k.
KeyPair k -&gt; forall (dir :: FileDirection). File (VKey k) dir
</span><a href="Testnet.Types.html#verificationKey"><span class="hs-identifier hs-var">verificationKey</span></a></span><span class="hs-glyph">=</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-type">File</span></a></span><span> </span><span id="local-6989586621679551305"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551305"><span class="hs-identifier hs-var">drepVKey</span></a></span></span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679551307"><span class="annot"><span class="annottext">era :: CardanoEra ConwayEra
</span><a href="#local-6989586621679551307"><span class="hs-identifier hs-var hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra ConwayEra -&gt; CardanoEra ConwayEra
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eras.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra ConwayEra
</span><a href="#local-6989586621679551299"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-271"></span><span>      </span><span id="local-6989586621679551309"><span class="annot"><span class="annottext">cEra :: AnyCardanoEra
</span><a href="#local-6989586621679551309"><span class="hs-identifier hs-var hs-var">cEra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CardanoEra ConwayEra -&gt; AnyCardanoEra
forall era. Typeable era =&gt; CardanoEra era -&gt; AnyCardanoEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eras.Core.html#AnyCardanoEra"><span class="hs-identifier hs-var">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra ConwayEra
</span><a href="#local-6989586621679551307"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span>  </span><span id="local-6989586621679551310"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551310"><span class="hs-identifier hs-var">baseDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadIO m, HasCallStack) =&gt;
FilePath -&gt; m FilePath
</span><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.File.html#createDirectoryIfMissing"><span class="hs-identifier hs-var">H.createDirectoryIfMissing</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; m FilePath) -&gt; FilePath -&gt; m FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551300"><span class="hs-identifier hs-var">work</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551301"><span class="hs-identifier hs-var">prefix</span></a></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-comment">-- Create vote delegation certificate</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679551311"><span class="annot"><span class="annottext">voteDelegationCertificatePath :: FilePath
</span><a href="#local-6989586621679551311"><span class="hs-identifier hs-var hs-var">voteDelegationCertificatePath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551310"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;delegation-certificate.delegcert&quot;</span></span><span>
</span><span id="line-277"></span><span>  </span><span class="annot"><span class="annottext">m FilePath -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(m FilePath -&gt; m ()) -&gt; m FilePath -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; [FilePath] -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; [FilePath] -&gt; m FilePath
</span><a href="Testnet.Process.Run.html#execCli%27"><span class="hs-identifier hs-var">execCli'</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551297"><span class="hs-identifier hs-var">execConfig</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;conway&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;stake-address&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;vote-delegation-certificate&quot;</span></span><span>
</span><span id="line-279"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--drep-verification-key-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551305"><span class="hs-identifier hs-var">drepVKey</span></a></span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--stake-verification-key-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551304"><span class="hs-identifier hs-var">vKeyFile</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--out-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551311"><span class="hs-identifier hs-var">voteDelegationCertificatePath</span></a></span><span>
</span><span id="line-282"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-comment">-- Compose transaction to publish delegation certificate</span><span>
</span><span id="line-285"></span><span>  </span><span id="local-6989586621679551312"><span class="annot"><span class="annottext">File TxBody 'In
</span><a href="#local-6989586621679551312"><span class="hs-identifier hs-var">repRegTxBody1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExecConfig
-&gt; EpochStateView
-&gt; ShelleyBasedEra ConwayEra
-&gt; FilePath
-&gt; FilePath
-&gt; File Certificate 'In
-&gt; PaymentKeyInfo
-&gt; m (File TxBody 'In)
forall (m :: * -&gt; *) era.
(MonadAssertion m, MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig
-&gt; EpochStateView
-&gt; ShelleyBasedEra era
-&gt; FilePath
-&gt; FilePath
-&gt; File Certificate 'In
-&gt; PaymentKeyInfo
-&gt; m (File TxBody 'In)
</span><a href="Testnet.Process.Cli.DRep.html#createCertificatePublicationTxBody"><span class="hs-identifier hs-var">createCertificatePublicationTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551297"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551298"><span class="hs-identifier hs-var">epochStateView</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra ConwayEra
</span><a href="#local-6989586621679551299"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551310"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;del-cert-txbody&quot;</span></span><span>
</span><span id="line-286"></span><span>                                                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; File Certificate 'In
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551311"><span class="hs-identifier hs-var">voteDelegationCertificatePath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551302"><span class="hs-identifier hs-var">payingWallet</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-comment">-- Sign transaction</span><span>
</span><span id="line-289"></span><span>  </span><span id="local-6989586621679551313"><span class="annot"><span class="annottext">File SignedTx 'In
</span><a href="#local-6989586621679551313"><span class="hs-identifier hs-var">repRegSignedRegTx1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExecConfig
-&gt; AnyCardanoEra
-&gt; FilePath
-&gt; FilePath
-&gt; File TxBody 'In
-&gt; [SomeKeyPair]
-&gt; m (File SignedTx 'In)
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig
-&gt; AnyCardanoEra
-&gt; FilePath
-&gt; FilePath
-&gt; File TxBody 'In
-&gt; [SomeKeyPair]
-&gt; m (File SignedTx 'In)
</span><a href="Testnet.Process.Cli.Transaction.html#signTx"><span class="hs-identifier hs-var">signTx</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551297"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679551309"><span class="hs-identifier hs-var">cEra</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551310"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;signed-reg-tx&quot;</span></span><span>
</span><span id="line-290"></span><span>                               </span><span class="annot"><span class="annottext">File TxBody 'In
</span><a href="#local-6989586621679551312"><span class="hs-identifier hs-var">repRegTxBody1</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">KeyPair PaymentKey -&gt; SomeKeyPair
forall a. KeyPair a -&gt; SomeKeyPair
</span><a href="Testnet.Types.html#SomeKeyPair"><span class="hs-identifier hs-var">SomeKeyPair</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyPair PaymentKey -&gt; SomeKeyPair)
-&gt; KeyPair PaymentKey -&gt; SomeKeyPair
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo -&gt; KeyPair PaymentKey
</span><a href="Testnet.Types.html#paymentKeyInfoPair"><span class="hs-identifier hs-var">paymentKeyInfoPair</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551302"><span class="hs-identifier hs-var">payingWallet</span></a></span><span>
</span><span id="line-291"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">KeyPair StakingKey -&gt; SomeKeyPair
forall a. KeyPair a -&gt; SomeKeyPair
</span><a href="Testnet.Types.html#SomeKeyPair"><span class="hs-identifier hs-var">SomeKeyPair</span></a></span><span> </span><span class="annot"><span class="annottext">KeyPair StakingKey
</span><a href="#local-6989586621679551303"><span class="hs-identifier hs-var">skeyPair</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span>  </span><span class="hs-comment">-- Submit transaction</span><span>
</span><span id="line-294"></span><span>  </span><span class="annot"><span class="annottext">ExecConfig -&gt; AnyCardanoEra -&gt; File SignedTx 'In -&gt; m ()
forall (m :: * -&gt; *).
(HasCallStack, MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig -&gt; AnyCardanoEra -&gt; File SignedTx 'In -&gt; m ()
</span><a href="Testnet.Process.Cli.Transaction.html#submitTx"><span class="hs-identifier hs-var">submitTx</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551297"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679551309"><span class="hs-identifier hs-var">cEra</span></a></span><span> </span><span class="annot"><span class="annottext">File SignedTx 'In
</span><a href="#local-6989586621679551313"><span class="hs-identifier hs-var">repRegSignedRegTx1</span></a></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span>  </span><span class="hs-comment">-- Wait one epoch</span><span>
</span><span id="line-297"></span><span>  </span><span class="annot"><span class="annottext">m EpochNo -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(m EpochNo -&gt; m ()) -&gt; m EpochNo -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView -&gt; EpochInterval -&gt; m EpochNo
forall (m :: * -&gt; *).
(HasCallStack, MonadTest m, MonadAssertion m, MonadIO m) =&gt;
EpochStateView -&gt; EpochInterval -&gt; m EpochNo
</span><a href="Testnet.Components.Query.html#waitForEpochs"><span class="hs-identifier hs-var">waitForEpochs</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551298"><span class="hs-identifier hs-var">epochStateView</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; EpochInterval
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-slotting-0.2.0.0-cd0dce4c27014235a7e92319c0ef89c51e34f31fcccf4d9db76782c186d26a52/share/doc/html/src/Cardano.Slotting.Slot.html#EpochInterval"><span class="hs-identifier hs-var">EpochInterval</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="hs-comment">-- | This function obtains the identifier for the last enacted parameter update proposal</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- if any.</span><span>
</span><span id="line-301"></span><span class="hs-comment">--</span><span>
</span><span id="line-302"></span><span class="hs-comment">-- If no previous proposal was enacted, the function returns 'Nothing'.</span><span>
</span><span id="line-303"></span><span class="hs-comment">-- If there was a previous enacted proposal, the function returns a tuple with its transaction</span><span>
</span><span id="line-304"></span><span class="hs-comment">-- identifier (as a 'String') and the action index (as a 'Word16').</span><span>
</span><span id="line-305"></span><span id="local-6989586621679550907"><span class="annot"><a href="Testnet.Process.Cli.DRep.html#getLastPParamUpdateActionId"><span class="hs-identifier hs-type">getLastPParamUpdateActionId</span></a></span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550907"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-308"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550907"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550907"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Process.html#ExecConfig"><span class="hs-identifier hs-type">H.ExecConfig</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Specifies the CLI execution configuration.</span></span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679550907"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Word.html#Word16"><span class="hs-identifier hs-type">Word16</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-312"></span><span id="getLastPParamUpdateActionId"><span class="annot"><span class="annottext">getLastPParamUpdateActionId :: forall (m :: * -&gt; *).
(HasCallStack, MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig -&gt; m (Maybe (FilePath, Word16))
</span><a href="Testnet.Process.Cli.DRep.html#getLastPParamUpdateActionId"><span class="hs-identifier hs-var hs-var">getLastPParamUpdateActionId</span></a></span></span><span> </span><span id="local-6989586621679551386"><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551386"><span class="hs-identifier hs-var">execConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-313"></span><span>  </span><span id="local-6989586621679551387"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679551387"><span class="hs-identifier hs-var">govStateJSON</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Aeson.Value</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; [FilePath] -&gt; m Value
forall a (m :: * -&gt; *).
(HasCallStack, FromJSON a, MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig -&gt; [FilePath] -&gt; m a
</span><a href="Testnet.Process.Run.html#execCliStdoutToJson"><span class="hs-identifier hs-var">execCliStdoutToJson</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551386"><span class="hs-identifier hs-var">execConfig</span></a></span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;conway&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;query&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;gov-state&quot;</span></span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--volatile-tip&quot;</span></span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679551388"><span class="hs-identifier hs-type">mLastPParamUpdateActionId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Aeson.Value</span></span><span>
</span><span id="line-318"></span><span>      </span><span id="local-6989586621679551388"><span class="annot"><span class="annottext">mLastPParamUpdateActionId :: Maybe Value
</span><a href="#local-6989586621679551388"><span class="hs-identifier hs-var hs-var">mLastPParamUpdateActionId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679551387"><span class="hs-identifier hs-var">govStateJSON</span></a></span><span>
</span><span id="line-319"></span><span>                             </span><span class="annot"><span class="annottext">Value -&gt; Getting (First Value) Value Value -&gt; Maybe Value
forall s a. s -&gt; Getting (First a) s a -&gt; Maybe a
</span><a href="file:///nix/store/4wrgaqdwnvq11fs5r7vhh737s8imn0cg-microlens-lib-microlens-0.4.13.1-haddock-doc/share/doc/microlens/html/src/Lens.Micro.html#%5E%3F"><span class="hs-operator hs-var">^?</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Traversal' Value Value
forall t. AsValue t =&gt; Key -&gt; Traversal' t Value
</span><a href="file:///nix/store/qirw7zmvwhjnw9py4ib12gcd49gn57a7-lens-aeson-lib-lens-aeson-1.2.3-haddock-doc/share/doc/lens-aeson/html/src/Data.Aeson.Lens.html#key"><span class="hs-identifier hs-var">AL.key</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;nextRatifyState&quot;</span></span><span>
</span><span id="line-320"></span><span>                              </span><span class="annot"><span class="annottext">Getting (First Value) Value Value
-&gt; Getting (First Value) Value Value
-&gt; Getting (First Value) Value Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Traversal' Value Value
forall t. AsValue t =&gt; Key -&gt; Traversal' t Value
</span><a href="file:///nix/store/qirw7zmvwhjnw9py4ib12gcd49gn57a7-lens-aeson-lib-lens-aeson-1.2.3-haddock-doc/share/doc/lens-aeson/html/src/Data.Aeson.Lens.html#key"><span class="hs-identifier hs-var">AL.key</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;nextEnactState&quot;</span></span><span>
</span><span id="line-321"></span><span>                              </span><span class="annot"><span class="annottext">Getting (First Value) Value Value
-&gt; Getting (First Value) Value Value
-&gt; Getting (First Value) Value Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Traversal' Value Value
forall t. AsValue t =&gt; Key -&gt; Traversal' t Value
</span><a href="file:///nix/store/qirw7zmvwhjnw9py4ib12gcd49gn57a7-lens-aeson-lib-lens-aeson-1.2.3-haddock-doc/share/doc/lens-aeson/html/src/Data.Aeson.Lens.html#key"><span class="hs-identifier hs-var">AL.key</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;prevGovActionIds&quot;</span></span><span>
</span><span id="line-322"></span><span>                              </span><span class="annot"><span class="annottext">Getting (First Value) Value Value
-&gt; Getting (First Value) Value Value
-&gt; Getting (First Value) Value Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Traversal' Value Value
forall t. AsValue t =&gt; Key -&gt; Traversal' t Value
</span><a href="file:///nix/store/qirw7zmvwhjnw9py4ib12gcd49gn57a7-lens-aeson-lib-lens-aeson-1.2.3-haddock-doc/share/doc/lens-aeson/html/src/Data.Aeson.Lens.html#key"><span class="hs-identifier hs-var">AL.key</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;PParamUpdate&quot;</span></span><span>
</span><span id="line-323"></span><span>  </span><span id="local-6989586621679551391"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679551391"><span class="hs-identifier hs-var">lastPParamUpdateActionId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Value -&gt; m Value
forall (m :: * -&gt; *) a.
(MonadTest m, Show a, HasCallStack) =&gt;
Maybe a -&gt; m a
</span><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#evalMaybe"><span class="hs-identifier hs-var">evalMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Value
</span><a href="#local-6989586621679551388"><span class="hs-identifier hs-var">mLastPParamUpdateActionId</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679551391"><span class="hs-identifier hs-var">lastPParamUpdateActionId</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier hs-var">Aeson.Null</span></span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe (FilePath, Word16) -&gt; m (Maybe (FilePath, Word16))
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FilePath, Word16)
forall a. Maybe a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679551393"><span class="hs-identifier hs-type">mActionIx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-328"></span><span>              </span><span id="local-6989586621679551393"><span class="annot"><span class="annottext">mActionIx :: Maybe Integer
</span><a href="#local-6989586621679551393"><span class="hs-identifier hs-var hs-var">mActionIx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679551391"><span class="hs-identifier hs-var">lastPParamUpdateActionId</span></a></span><span>
</span><span id="line-329"></span><span>                        </span><span class="annot"><span class="annottext">Value -&gt; Getting (First Integer) Value Integer -&gt; Maybe Integer
forall s a. s -&gt; Getting (First a) s a -&gt; Maybe a
</span><a href="file:///nix/store/4wrgaqdwnvq11fs5r7vhh737s8imn0cg-microlens-lib-microlens-0.4.13.1-haddock-doc/share/doc/microlens/html/src/Lens.Micro.html#%5E%3F"><span class="hs-operator hs-var">^?</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Traversal' Value Value
forall t. AsValue t =&gt; Key -&gt; Traversal' t Value
</span><a href="file:///nix/store/qirw7zmvwhjnw9py4ib12gcd49gn57a7-lens-aeson-lib-lens-aeson-1.2.3-haddock-doc/share/doc/lens-aeson/html/src/Data.Aeson.Lens.html#key"><span class="hs-identifier hs-var">AL.key</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;govActionIx&quot;</span></span><span>
</span><span id="line-330"></span><span>                         </span><span class="annot"><span class="annottext">((Value -&gt; Const (First Integer) Value)
 -&gt; Value -&gt; Const (First Integer) Value)
-&gt; Getting (First Integer) Value Integer
-&gt; Getting (First Integer) Value Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First Integer) Value Integer
forall t. AsNumber t =&gt; Prism' t Integer
Prism' Value Integer
</span><a href="file:///nix/store/qirw7zmvwhjnw9py4ib12gcd49gn57a7-lens-aeson-lib-lens-aeson-1.2.3-haddock-doc/share/doc/lens-aeson/html/src/Data.Aeson.Lens.html#_Integer"><span class="hs-identifier hs-var">AL._Integer</span></a></span><span>
</span><span id="line-331"></span><span>              </span><span class="annot"><a href="#local-6989586621679551395"><span class="hs-identifier hs-type">mTxId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-332"></span><span>              </span><span id="local-6989586621679551395"><span class="annot"><span class="annottext">mTxId :: Maybe Text
</span><a href="#local-6989586621679551395"><span class="hs-identifier hs-var hs-var">mTxId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679551391"><span class="hs-identifier hs-var">lastPParamUpdateActionId</span></a></span><span>
</span><span id="line-333"></span><span>                    </span><span class="annot"><span class="annottext">Value -&gt; Getting (First Text) Value Text -&gt; Maybe Text
forall s a. s -&gt; Getting (First a) s a -&gt; Maybe a
</span><a href="file:///nix/store/4wrgaqdwnvq11fs5r7vhh737s8imn0cg-microlens-lib-microlens-0.4.13.1-haddock-doc/share/doc/microlens/html/src/Lens.Micro.html#%5E%3F"><span class="hs-operator hs-var">^?</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Traversal' Value Value
forall t. AsValue t =&gt; Key -&gt; Traversal' t Value
</span><a href="file:///nix/store/qirw7zmvwhjnw9py4ib12gcd49gn57a7-lens-aeson-lib-lens-aeson-1.2.3-haddock-doc/share/doc/lens-aeson/html/src/Data.Aeson.Lens.html#key"><span class="hs-identifier hs-var">AL.key</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;txId&quot;</span></span><span>
</span><span id="line-334"></span><span>                     </span><span class="annot"><span class="annottext">((Value -&gt; Const (First Text) Value)
 -&gt; Value -&gt; Const (First Text) Value)
-&gt; Getting (First Text) Value Text
-&gt; Getting (First Text) Value Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First Text) Value Text
forall t. AsValue t =&gt; Prism' t Text
Prism' Value Text
</span><a href="file:///nix/store/qirw7zmvwhjnw9py4ib12gcd49gn57a7-lens-aeson-lib-lens-aeson-1.2.3-haddock-doc/share/doc/lens-aeson/html/src/Data.Aeson.Lens.html#_String"><span class="hs-identifier hs-var">AL._String</span></a></span><span>
</span><span id="line-335"></span><span>          </span><span id="local-6989586621679551397"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679551397"><span class="hs-identifier hs-var">actionIx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Integer -&gt; m Integer
forall (m :: * -&gt; *) a.
(MonadTest m, Show a, HasCallStack) =&gt;
Maybe a -&gt; m a
</span><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#evalMaybe"><span class="hs-identifier hs-var">evalMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Integer
</span><a href="#local-6989586621679551393"><span class="hs-identifier hs-var">mActionIx</span></a></span><span>
</span><span id="line-336"></span><span>          </span><span id="local-6989586621679551398"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679551398"><span class="hs-identifier hs-var">txId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; m Text
forall (m :: * -&gt; *) a.
(MonadTest m, Show a, HasCallStack) =&gt;
Maybe a -&gt; m a
</span><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#evalMaybe"><span class="hs-identifier hs-var">evalMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621679551395"><span class="hs-identifier hs-var">mTxId</span></a></span><span>
</span><span id="line-337"></span><span>          </span><span class="annot"><span class="annottext">Maybe (FilePath, Word16) -&gt; m (Maybe (FilePath, Word16))
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FilePath, Word16) -&gt; Maybe (FilePath, Word16)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679551398"><span class="hs-identifier hs-var">txId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Word16
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679551397"><span class="hs-identifier hs-var">actionIx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="hs-comment">-- | Create a proposal to change the DRep activity interval.</span><span>
</span><span id="line-340"></span><span class="hs-comment">-- Return the transaction id and the index of the governance action.</span><span>
</span><span id="line-341"></span><span id="local-6989586621679550937"><span id="local-6989586621679550938"><span class="annot"><a href="Testnet.Process.Cli.DRep.html#makeActivityChangeProposal"><span class="hs-identifier hs-type">makeActivityChangeProposal</span></a></span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.MonadAssertion.html#MonadAssertion"><span class="hs-identifier hs-type">H.MonadAssertion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550937"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/6vhbj2imaq9yazn9k0kjdjw8sni3v11k-hedgehog-lib-hedgehog-1.4-haddock-doc/share/doc/hedgehog/html/src/Hedgehog.Internal.Property.html#MonadTest"><span class="hs-identifier hs-type">MonadTest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550937"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/exceptions-0.10.7/src/Control.Monad.Catch.html#MonadCatch"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550937"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550937"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550938"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Process.html#ExecConfig"><span class="hs-identifier hs-type">H.ExecConfig</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Specifies the CLI execution configuration.</span></span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Components.Query.html#EpochStateView"><span class="hs-identifier hs-type">EpochStateView</span></a></span><span> </span><span class="hs-comment">-- ^ Current epoch state view for transaction building. It can be obtained</span><span>
</span><span id="line-345"></span><span>                    </span><span class="hs-comment">-- using the 'getEpochStateView' function.</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eon.ConwayEraOnwards.html#ConwayEraOnwards"><span class="hs-identifier hs-type">ConwayEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679550938"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The 'ConwayEraOnwards' witness for current era.</span></span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Base directory path where generated files will be stored.</span></span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Name for the subfolder that will be created under 'work' folder.</span></span><span>
</span><span id="line-349"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Word.html#Word16"><span class="hs-identifier hs-type">Word16</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ The transaction id and the index of the previosu governance action if any.</span></span><span>
</span><span id="line-350"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-slotting-0.2.0.0-cd0dce4c27014235a7e92319c0ef89c51e34f31fcccf4d9db76782c186d26a52/share/doc/html/src/Cardano.Slotting.Slot.html#EpochInterval"><span class="hs-identifier hs-type">EpochInterval</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The target DRep activity interval to be set by the proposal.</span></span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Testnet.Types.html#PaymentKeyInfo"><span class="hs-identifier hs-type">PaymentKeyInfo</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Wallet that will pay for the transaction.</span></span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-slotting-0.2.0.0-cd0dce4c27014235a7e92319c0ef89c51e34f31fcccf4d9db76782c186d26a52/share/doc/html/src/Cardano.Slotting.Slot.html#EpochInterval"><span class="hs-identifier hs-type">EpochInterval</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Number of epochs to wait for the proposal to be registered by the chain.</span></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679550937"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Word.html#Word16"><span class="hs-identifier hs-type">Word16</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The transaction id and the index of the governance action.</span></span><span>
</span><span id="line-354"></span><span id="makeActivityChangeProposal"><span class="annot"><span class="annottext">makeActivityChangeProposal :: forall (m :: * -&gt; *) era.
(HasCallStack, MonadAssertion m, MonadTest m, MonadCatch m,
 MonadIO m, Typeable era) =&gt;
ExecConfig
-&gt; EpochStateView
-&gt; ConwayEraOnwards era
-&gt; FilePath
-&gt; FilePath
-&gt; Maybe (FilePath, Word16)
-&gt; EpochInterval
-&gt; PaymentKeyInfo
-&gt; EpochInterval
-&gt; m (FilePath, Word16)
</span><a href="Testnet.Process.Cli.DRep.html#makeActivityChangeProposal"><span class="hs-identifier hs-var hs-var">makeActivityChangeProposal</span></a></span></span><span> </span><span id="local-6989586621679551520"><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551520"><span class="hs-identifier hs-var">execConfig</span></a></span></span><span> </span><span id="local-6989586621679551521"><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551521"><span class="hs-identifier hs-var">epochStateView</span></a></span></span><span> </span><span id="local-6989586621679551522"><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621679551522"><span class="hs-identifier hs-var">ceo</span></a></span></span><span> </span><span id="local-6989586621679551523"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551523"><span class="hs-identifier hs-var">work</span></a></span></span><span> </span><span id="local-6989586621679551524"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551524"><span class="hs-identifier hs-var">prefix</span></a></span></span><span>
</span><span id="line-355"></span><span>                           </span><span id="local-6989586621679551525"><span class="annot"><span class="annottext">Maybe (FilePath, Word16)
</span><a href="#local-6989586621679551525"><span class="hs-identifier hs-var">prevGovActionInfo</span></a></span></span><span> </span><span id="local-6989586621679551526"><span class="annot"><span class="annottext">EpochInterval
</span><a href="#local-6989586621679551526"><span class="hs-identifier hs-var">drepActivity</span></a></span></span><span> </span><span id="local-6989586621679551527"><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551527"><span class="hs-identifier hs-var">wallet</span></a></span></span><span> </span><span id="local-6989586621679551528"><span class="annot"><span class="annottext">EpochInterval
</span><a href="#local-6989586621679551528"><span class="hs-identifier hs-var">timeout</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679551529"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra era
</span><a href="#local-6989586621679551529"><span class="hs-identifier hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards era -&gt; ShelleyBasedEra era
forall era. ConwayEraOnwards era -&gt; ShelleyBasedEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eon.ConwayEraOnwards.html#conwayEraOnwardsToShelleyBasedEra"><span class="hs-identifier hs-var">conwayEraOnwardsToShelleyBasedEra</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621679551522"><span class="hs-identifier hs-var">ceo</span></a></span><span>
</span><span id="line-358"></span><span>      </span><span id="local-6989586621679551531"><span class="annot"><span class="annottext">era :: CardanoEra era
</span><a href="#local-6989586621679551531"><span class="hs-identifier hs-var hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eras.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679551529"><span class="hs-identifier hs-var">sbe</span></a></span><span>
</span><span id="line-359"></span><span>      </span><span id="local-6989586621679551533"><span class="annot"><span class="annottext">cEra :: AnyCardanoEra
</span><a href="#local-6989586621679551533"><span class="hs-identifier hs-var hs-var">cEra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; AnyCardanoEra
forall era. Typeable era =&gt; CardanoEra era -&gt; AnyCardanoEra
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.Eras.Core.html#AnyCardanoEra"><span class="hs-identifier hs-var">AnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621679551531"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span>  </span><span id="local-6989586621679551534"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551534"><span class="hs-identifier hs-var">baseDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadIO m, HasCallStack) =&gt;
FilePath -&gt; m FilePath
</span><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.File.html#createDirectoryIfMissing"><span class="hs-identifier hs-var">H.createDirectoryIfMissing</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; m FilePath) -&gt; FilePath -&gt; m FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551523"><span class="hs-identifier hs-var">work</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551524"><span class="hs-identifier hs-var">prefix</span></a></span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679551535"><span class="annot"><span class="annottext">stakeVkeyFp :: FilePath
</span><a href="#local-6989586621679551535"><span class="hs-identifier hs-var hs-var">stakeVkeyFp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551534"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;stake.vkey&quot;</span></span><span>
</span><span id="line-364"></span><span>      </span><span id="local-6989586621679551536"><span class="annot"><span class="annottext">stakeSKeyFp :: FilePath
</span><a href="#local-6989586621679551536"><span class="hs-identifier hs-var hs-var">stakeSKeyFp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551534"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;stake.skey&quot;</span></span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span>  </span><span class="annot"><span class="annottext">KeyPair StakeKey -&gt; m ()
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
KeyPair StakeKey -&gt; m ()
</span><a href="Testnet.Process.Cli.Keys.html#cliStakeAddressKeyGen"><span class="hs-identifier hs-var">cliStakeAddressKeyGen</span></a></span><span>
</span><span id="line-367"></span><span>    </span><span class="annot"><span class="annottext">(KeyPair StakeKey -&gt; m ()) -&gt; KeyPair StakeKey -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Testnet.Types.html#KeyPair"><span class="hs-identifier hs-type">KeyPair</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">verificationKey :: forall (dir :: FileDirection). File (VKey StakeKey) dir
</span><a href="Testnet.Types.html#verificationKey"><span class="hs-identifier hs-var">verificationKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; File (VKey StakeKey) dir
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551535"><span class="hs-identifier hs-var">stakeVkeyFp</span></a></span><span>
</span><span id="line-368"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">signingKey :: forall (dir :: FileDirection). File (SKey StakeKey) dir
</span><a href="Testnet.Types.html#signingKey"><span class="hs-identifier hs-var">signingKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; File (SKey StakeKey) dir
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551536"><span class="hs-identifier hs-var">stakeSKeyFp</span></a></span><span>
</span><span id="line-369"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span>  </span><span id="local-6989586621679551537"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551537"><span class="hs-identifier hs-var">proposalAnchorFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
FilePath -&gt; m FilePath
</span><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Base.html#note"><span class="hs-identifier hs-var">H.note</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; m FilePath) -&gt; FilePath -&gt; m FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551534"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;sample-proposal-anchor&quot;</span></span><span>
</span><span id="line-372"></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; m ()
forall (m :: * -&gt; *).
(MonadTest m, MonadIO m, HasCallStack) =&gt;
FilePath -&gt; FilePath -&gt; m ()
</span><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.File.html#writeFile"><span class="hs-identifier hs-var">H.writeFile</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551537"><span class="hs-identifier hs-var">proposalAnchorFile</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;dummy anchor data&quot;</span></span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span>  </span><span id="local-6989586621679551540"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551540"><span class="hs-identifier hs-var">proposalAnchorDataHash</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; [FilePath] -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; [FilePath] -&gt; m FilePath
</span><a href="Testnet.Process.Run.html#execCli%27"><span class="hs-identifier hs-var">execCli'</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551520"><span class="hs-identifier hs-var">execConfig</span></a></span><span>
</span><span id="line-375"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;conway&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;governance&quot;</span></span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;hash&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;anchor-data&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--file-text&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551537"><span class="hs-identifier hs-var">proposalAnchorFile</span></a></span><span>
</span><span id="line-377"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span>  </span><span id="local-6989586621679551541"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679551541"><span class="hs-identifier hs-var">minDRepDeposit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">EpochStateView -&gt; ConwayEraOnwards era -&gt; m Integer
forall (m :: * -&gt; *) era.
(HasCallStack, MonadAssertion m, MonadIO m, MonadTest m) =&gt;
EpochStateView -&gt; ConwayEraOnwards era -&gt; m Integer
</span><a href="Testnet.Components.Query.html#getMinDRepDeposit"><span class="hs-identifier hs-var">getMinDRepDeposit</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551521"><span class="hs-identifier hs-var">epochStateView</span></a></span><span> </span><span class="annot"><span class="annottext">ConwayEraOnwards era
</span><a href="#local-6989586621679551522"><span class="hs-identifier hs-var">ceo</span></a></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span>  </span><span id="local-6989586621679551542"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551542"><span class="hs-identifier hs-var">proposalFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
FilePath -&gt; m FilePath
</span><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Base.html#note"><span class="hs-identifier hs-var">H.note</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; m FilePath) -&gt; FilePath -&gt; m FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551534"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;sample-proposal-anchor&quot;</span></span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span>  </span><span class="annot"><span class="annottext">m FilePath -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(m FilePath -&gt; m ()) -&gt; m FilePath -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; [FilePath] -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; [FilePath] -&gt; m FilePath
</span><a href="Testnet.Process.Run.html#execCli%27"><span class="hs-identifier hs-var">execCli'</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551520"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">([FilePath] -&gt; m FilePath) -&gt; [FilePath] -&gt; m FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-384"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;conway&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;governance&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;action&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;create-protocol-parameters-update&quot;</span></span><span>
</span><span id="line-385"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--testnet&quot;</span></span><span>
</span><span id="line-386"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--governance-action-deposit&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-bignum-1.3/src/GHC.Num.Integer.html#Integer"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679551541"><span class="hs-identifier hs-var">minDRepDeposit</span></a></span><span>
</span><span id="line-387"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--deposit-return-stake-verification-key-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551535"><span class="hs-identifier hs-var">stakeVkeyFp</span></a></span><span>
</span><span id="line-388"></span><span>    </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; [FilePath] -&gt; [FilePath]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">((FilePath, Word16) -&gt; [FilePath])
-&gt; Maybe (FilePath, Word16) -&gt; [FilePath]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679551544"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551544"><span class="hs-identifier hs-var">prevGovernanceActionTxId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679551545"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679551545"><span class="hs-identifier hs-var">prevGovernanceActionIndex</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-389"></span><span>                      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--prev-governance-action-tx-id&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551544"><span class="hs-identifier hs-var">prevGovernanceActionTxId</span></a></span><span>
</span><span id="line-390"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--prev-governance-action-index&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679551545"><span class="hs-identifier hs-var">prevGovernanceActionIndex</span></a></span><span>
</span><span id="line-391"></span><span>                      </span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (FilePath, Word16)
</span><a href="#local-6989586621679551525"><span class="hs-identifier hs-var">prevGovActionInfo</span></a></span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; [FilePath] -&gt; [FilePath]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-392"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--drep-activity&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpochInterval -&gt; Word32
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-slotting-0.2.0.0-cd0dce4c27014235a7e92319c0ef89c51e34f31fcccf4d9db76782c186d26a52/share/doc/html/src/Cardano.Slotting.Slot.html#unEpochInterval"><span class="hs-identifier hs-var">unEpochInterval</span></a></span><span> </span><span class="annot"><span class="annottext">EpochInterval
</span><a href="#local-6989586621679551526"><span class="hs-identifier hs-var">drepActivity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--anchor-url&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;https://tinyurl.com/3wrwb2as&quot;</span></span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--anchor-data-hash&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551540"><span class="hs-identifier hs-var">proposalAnchorDataHash</span></a></span><span>
</span><span id="line-395"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--out-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551542"><span class="hs-identifier hs-var">proposalFile</span></a></span><span>
</span><span id="line-396"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span>  </span><span id="local-6989586621679551546"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551546"><span class="hs-identifier hs-var">proposalBody</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, HasCallStack) =&gt;
FilePath -&gt; m FilePath
</span><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Base.html#note"><span class="hs-identifier hs-var">H.note</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; m FilePath) -&gt; FilePath -&gt; m FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551534"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/filepath-1.4.200.1/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;tx.body&quot;</span></span><span>
</span><span id="line-399"></span><span>  </span><span id="local-6989586621679551547"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679551547"><span class="hs-identifier hs-var">txIn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">EpochStateView -&gt; ShelleyBasedEra era -&gt; PaymentKeyInfo -&gt; m TxIn
forall (m :: * -&gt; *) era.
(MonadTest m, MonadAssertion m, MonadIO m, HasCallStack) =&gt;
EpochStateView -&gt; ShelleyBasedEra era -&gt; PaymentKeyInfo -&gt; m TxIn
</span><a href="Testnet.Components.Query.html#findLargestUtxoForPaymentKey"><span class="hs-identifier hs-var">findLargestUtxoForPaymentKey</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551521"><span class="hs-identifier hs-var">epochStateView</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621679551529"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551527"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-400"></span><span>
</span><span id="line-401"></span><span>  </span><span class="annot"><span class="annottext">m FilePath -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#void"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(m FilePath -&gt; m ()) -&gt; m FilePath -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; [FilePath] -&gt; m FilePath
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m, HasCallStack) =&gt;
ExecConfig -&gt; [FilePath] -&gt; m FilePath
</span><a href="Testnet.Process.Run.html#execCli%27"><span class="hs-identifier hs-var">execCli'</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551520"><span class="hs-identifier hs-var">execConfig</span></a></span><span>
</span><span id="line-402"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;conway&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;transaction&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;build&quot;</span></span><span>
</span><span id="line-403"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--change-address&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; FilePath) -&gt; Text -&gt; FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo -&gt; Text
</span><a href="Testnet.Types.html#paymentKeyInfoAddr"><span class="hs-identifier hs-var">paymentKeyInfoAddr</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551527"><span class="hs-identifier hs-var">wallet</span></a></span><span>
</span><span id="line-404"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--tx-in&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; FilePath
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; FilePath) -&gt; Text -&gt; FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.TxIn.html#renderTxIn"><span class="hs-identifier hs-var">renderTxIn</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621679551547"><span class="hs-identifier hs-var">txIn</span></a></span><span>
</span><span id="line-405"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--proposal-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551542"><span class="hs-identifier hs-var">proposalFile</span></a></span><span>
</span><span id="line-406"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;--out-file&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551546"><span class="hs-identifier hs-var">proposalBody</span></a></span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span>  </span><span id="local-6989586621679551548"><span class="annot"><span class="annottext">File SignedTx 'In
</span><a href="#local-6989586621679551548"><span class="hs-identifier hs-var">signedProposalTx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExecConfig
-&gt; AnyCardanoEra
-&gt; FilePath
-&gt; FilePath
-&gt; File TxBody 'In
-&gt; [SomeKeyPair]
-&gt; m (File SignedTx 'In)
forall (m :: * -&gt; *).
(MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig
-&gt; AnyCardanoEra
-&gt; FilePath
-&gt; FilePath
-&gt; File TxBody 'In
-&gt; [SomeKeyPair]
-&gt; m (File SignedTx 'In)
</span><a href="Testnet.Process.Cli.Transaction.html#signTx"><span class="hs-identifier hs-var">signTx</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551520"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679551533"><span class="hs-identifier hs-var">cEra</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551534"><span class="hs-identifier hs-var">baseDir</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;signed-proposal&quot;</span></span><span>
</span><span id="line-410"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; File TxBody 'In
forall content (direction :: FileDirection).
FilePath -&gt; File content direction
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.6.4/cardano-api-8.48.0.1-l-internal-48cfc03ba0ffed255ed85cf59c59f76fba846468c3e9cb2355b4307f05b03bfe/share/doc/html/src/Cardano.Api.IO.Base.html#File"><span class="hs-identifier hs-var">File</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551546"><span class="hs-identifier hs-var">proposalBody</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">KeyPair PaymentKey -&gt; SomeKeyPair
forall a. KeyPair a -&gt; SomeKeyPair
</span><a href="Testnet.Types.html#SomeKeyPair"><span class="hs-identifier hs-var">SomeKeyPair</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyPair PaymentKey -&gt; SomeKeyPair)
-&gt; KeyPair PaymentKey -&gt; SomeKeyPair
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo -&gt; KeyPair PaymentKey
</span><a href="Testnet.Types.html#paymentKeyInfoPair"><span class="hs-identifier hs-var">paymentKeyInfoPair</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentKeyInfo
</span><a href="#local-6989586621679551527"><span class="hs-identifier hs-var">wallet</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span>  </span><span class="annot"><span class="annottext">ExecConfig -&gt; AnyCardanoEra -&gt; File SignedTx 'In -&gt; m ()
forall (m :: * -&gt; *).
(HasCallStack, MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig -&gt; AnyCardanoEra -&gt; File SignedTx 'In -&gt; m ()
</span><a href="Testnet.Process.Cli.Transaction.html#submitTx"><span class="hs-identifier hs-var">submitTx</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551520"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621679551533"><span class="hs-identifier hs-var">cEra</span></a></span><span> </span><span class="annot"><span class="annottext">File SignedTx 'In
</span><a href="#local-6989586621679551548"><span class="hs-identifier hs-var">signedProposalTx</span></a></span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span>  </span><span id="local-6989586621679551549"><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551549"><span class="hs-identifier hs-var">governanceActionTxId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExecConfig -&gt; File SignedTx 'In -&gt; m FilePath
forall (m :: * -&gt; *).
(HasCallStack, MonadTest m, MonadCatch m, MonadIO m) =&gt;
ExecConfig -&gt; File SignedTx 'In -&gt; m FilePath
</span><a href="Testnet.Process.Cli.Transaction.html#retrieveTransactionId"><span class="hs-identifier hs-var">retrieveTransactionId</span></a></span><span> </span><span class="annot"><span class="annottext">ExecConfig
</span><a href="#local-6989586621679551520"><span class="hs-identifier hs-var">execConfig</span></a></span><span> </span><span class="annot"><span class="annottext">File SignedTx 'In
</span><a href="#local-6989586621679551548"><span class="hs-identifier hs-var">signedProposalTx</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span>  </span><span id="local-6989586621679551551"><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679551551"><span class="hs-identifier hs-var">governanceActionIndex</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-417"></span><span>    </span><span class="annot"><span class="annottext">m (Maybe Word16) -&gt; m Word16
forall (m :: * -&gt; *) a.
(MonadTest m, HasCallStack) =&gt;
m (Maybe a) -&gt; m a
</span><a href="file:///nix/store/7jc9gamvqvfraah041yka5njd0f2c7v3-hedgehog-extras-lib-hedgehog-extras-0.6.4.0-haddock-doc/share/doc/hedgehog-extras/html/src/Hedgehog.Extras.Test.Base.html#nothingFailM"><span class="hs-identifier hs-var">H.nothingFailM</span></a></span><span> </span><span class="annot"><span class="annottext">(m (Maybe Word16) -&gt; m Word16) -&gt; m (Maybe Word16) -&gt; m Word16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView
-&gt; EpochInterval
-&gt; ((AnyNewEpochState, SlotNo, BlockNo) -&gt; m (Maybe Word16))
-&gt; m (Maybe Word16)
forall (m :: * -&gt; *) a.
(HasCallStack, MonadIO m, MonadTest m, MonadAssertion m) =&gt;
EpochStateView
-&gt; EpochInterval
-&gt; ((AnyNewEpochState, SlotNo, BlockNo) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="Testnet.Components.Query.html#watchEpochStateUpdate"><span class="hs-identifier hs-var">watchEpochStateUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">EpochStateView
</span><a href="#local-6989586621679551521"><span class="hs-identifier hs-var">epochStateView</span></a></span><span> </span><span class="annot"><span class="annottext">EpochInterval
</span><a href="#local-6989586621679551528"><span class="hs-identifier hs-var">timeout</span></a></span><span> </span><span class="annot"><span class="annottext">(((AnyNewEpochState, SlotNo, BlockNo) -&gt; m (Maybe Word16))
 -&gt; m (Maybe Word16))
-&gt; ((AnyNewEpochState, SlotNo, BlockNo) -&gt; m (Maybe Word16))
-&gt; m (Maybe Word16)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679551554"><span class="annot"><span class="annottext">AnyNewEpochState
</span><a href="#local-6989586621679551554"><span class="hs-identifier hs-var">anyNewEpochState</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BlockNo
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-418"></span><span>      </span><span class="annot"><span class="annottext">Maybe Word16 -&gt; m (Maybe Word16)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Word16 -&gt; m (Maybe Word16))
-&gt; Maybe Word16 -&gt; m (Maybe Word16)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; TxId -&gt; AnyNewEpochState -&gt; Maybe Word16
TxId -&gt; AnyNewEpochState -&gt; Maybe Word16
</span><a href="Testnet.EpochStateProcessing.html#maybeExtractGovernanceActionIndex"><span class="hs-identifier hs-var">maybeExtractGovernanceActionIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; TxId
forall a. IsString a =&gt; FilePath -&gt; a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.String.html#fromString"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551549"><span class="hs-identifier hs-var">governanceActionTxId</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyNewEpochState
</span><a href="#local-6989586621679551554"><span class="hs-identifier hs-var">anyNewEpochState</span></a></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span>  </span><span class="annot"><span class="annottext">(FilePath, Word16) -&gt; m (FilePath, Word16)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/1znbd24aiiyvmxgkbai338azp88hqfbx-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621679551549"><span class="hs-identifier hs-var">governanceActionTxId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word16
</span><a href="#local-6989586621679551551"><span class="hs-identifier hs-var">governanceActionIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span></pre></body></html>